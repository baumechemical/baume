<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>คู่มือแก้ปัญหายอดฮิตในการชุบทองเหลืองบนเหล็กและทองแดง | Baume Chemical Blog</title>

  <!-- === SEO base === -->
  <meta name="description" content="คู่มือแก้ปัญหาการชุบทองเหลืองบนเหล็กและทองแดง: ค่าเริ่มต้น การเตรียมผิว หน้าต่างกระบวนการ การจัดวาง การดูแลบ่อ และตารางปัญหาพบบ่อย เช่น ลอก ยึดเกาะไม่ดี โทนเพี้ยน พิตติ้ง/ไหม้ ขอบคม">
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
  <link rel="canonical" href="https://www.baumechemical.com/blog/brass-plating-on-steel-copper/">
  <link rel="alternate" hreflang="th" href="https://www.baumechemical.com/blog/brass-plating-on-steel-copper/">
  <link rel="alternate" hreflang="en" href="https://www.baumechemical.com/blog/brass-plating-on-steel-copper/">
  <link rel="alternate" hreflang="x-default" href="https://www.baumechemical.com/blog/brass-plating-on-steel-copper/">
  <meta name="theme-color" content="#2c5e4e">

  <!-- Open Graph / Twitter -->
  <meta property="og:locale" content="th_TH">
  <meta property="og:locale:alternate" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Baume Chemical">
  <meta property="og:title" content="คู่มือแก้ปัญหายอดฮิตในการชุบทองเหลืองบนเหล็กและทองแดง — Baume Chemical Blog">
  <meta property="og:description" content="ค่าเริ่มต้น เตรียมผิว หน้าต่างกระบวนการ ฟิกซ์เจอร์ ดูแลบ่อ และตารางปัญหา สำหรับงานชุบทองเหลืองบนเหล็ก/ทองแดง">
  <meta property="og:url" content="https://www.baumechemical.com/blog/brass-plating-on-steel-copper/">
  <meta property="og:image" content="https://i.imgur.com/DzCh11Q.jpeg">
  <meta property="og:image:alt" content="Brass Plating on Steel & Copper — Baume Chemical Blog">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Organization","name":"Baume Chemical","url":"https://www.baumechemical.com/","logo":{"@type":"ImageObject","url":"https://www.baumechemical.com/assets/logo.png"},"sameAs":["https://line.me/ti/p/~baumechemical"]}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"Baume Chemical","url":"https://www.baumechemical.com/","inLanguage":"th"}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"BlogPosting","headline":"คู่มือแก้ปัญหายอดฮิตในการชุบทองเหลืองบนเหล็กและทองแดง","url":"https://www.baumechemical.com/blog/brass-plating-on-steel-copper/","inLanguage":"th","description":"แนวทางคุมคุณภาพและแก้ปัญหา: เตรียมผิว ค่าเริ่มต้น หน้าต่างกระบวนการ ฟิกซ์เจอร์ ดูแลบ่อ และตารางปัญหา","publisher":{"@type":"Organization","name":"Baume Chemical","url":"https://www.baumechemical.com/"},"image":"https://i.imgur.com/DzCh11Q.jpeg"}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[
    {"@type":"ListItem","position":1,"name":"Home","item":"https://www.baumechemical.com/"},
    {"@type":"ListItem","position":2,"name":"Blog","item":"https://www.baumechemical.com/blog/"},
    {"@type":"ListItem","position":3,"name":"Brass Plating on Steel & Copper","item":"https://www.baumechemical.com/blog/brass-plating-on-steel-copper/"}
  ]}
  </script>

  <!-- Fonts & Perf -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://flagcdn.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="preload" as="image" href="https://i.imgur.com/DzCh11Q.jpeg"/>

  <style>
    :root{
      --brand:#2c5e4e; --brand-2:#387b5b; --accent:#ff9800; --ink:#0f172a; --muted:#5b6675; --bg:#f4f6f5;
      --radius:14px; --shadow-1:0 8px 26px rgba(2,8,20,.06); --shadow-2:0 16px 40px rgba(2,8,20,.14);
      --logo-url:url('https://img2.pic.in.th/pic/Baume.jpg');
      --header-h:64px; /* synced via JS */
      --container:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:'Noto Sans Thai', system-ui, sans-serif; color:var(--ink); background:var(--bg); line-height:1.6}

    /* ===== GLASS HEADER: transparent start → dark on scroll, fixed ===== */
    .site-header{position:fixed; inset:0 0 auto 0; z-index:1400; background:transparent; border-bottom:1px solid rgba(255,255,255,.14); transition:background .2s ease, backdrop-filter .2s ease, box-shadow .2s ease}
    .site-header.is-scrolled{background:rgba(15,23,42,.70); backdrop-filter:saturate(140%) blur(10px); box-shadow:0 8px 26px rgba(2,8,20,.18)}
    .nav-bar{ max-width:var(--container); margin:0 auto; padding:10px 16px; display:flex; align-items:center; gap:14px; justify-content:space-between; min-height:var(--header-h) }
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none}
    .brand-logo{width:42px;height:42px;border-radius:10px;background:#e8f1ec var(--logo-url) center/cover no-repeat;box-shadow:0 2px 8px rgba(2,8,20,.15)}
    .brand-name{font-weight:800; color:#fff}

    /* Primary nav + Lang switch (desktop inline / mobile inside menu) */
    .primary-nav{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
    .primary-nav a{ text-decoration:none; color:#fff; padding:10px 12px; border-radius:10px; font-weight:700 }
    .primary-nav a:hover{ background:rgba(255,255,255,.12) }
    .primary-nav a[aria-current="page"]{ background:rgba(255,255,255,.18) }

    .lang-switch{display:flex; gap:6px; margin-left:auto; padding:4px; border:1px solid #e2e8f0; border-radius:999px; background:#ffffffcc; backdrop-filter: blur(8px); box-shadow:0 10px 26px rgba(2,8,20,.12)}
    .site-header.is-scrolled .lang-switch{background:#ffffffdd}
    .lang-btn{appearance:none; border:0; background:transparent; padding:6px 10px; border-radius:999px; font-weight:800; cursor:pointer; display:flex; align-items:center; gap:6px; color:#0f172a}
    .lang-btn[aria-pressed="true"]{ background:var(--brand-2); color:#fff }
    .lang-btn img{ width:18px; height:14px; border-radius:2px; object-fit:cover; box-shadow:0 0 0 1px rgba(0,0,0,.08) }

    /* Burger */
    .nav-toggle{ display:none; width:38px; height:38px; border-radius:9px; background:transparent; cursor:pointer; border:0 }
    .nav-toggle .bar{ position:relative; width:22px; height:2px; background:#fff; border-radius:2px }
    .nav-toggle .bar::before,.nav-toggle .bar::after{content:""; position:absolute; left:0; right:0; height:2px; background:#fff; border-radius:2px}
    .nav-toggle .bar::before{top:-7px} .nav-toggle .bar::after{top:7px}
    .nav-toggle:focus-visible{outline:2px solid #fff; outline-offset:2px}

    @media (max-width:900px){
      .nav-toggle{ display:inline-flex; align-items:center; justify-content:center }
      .primary-nav{ position:fixed; left:12px; right:12px; top:calc(var(--header-h) + 8px); background:#0f172acc; border:1px solid rgba(255,255,255,.18); backdrop-filter: blur(8px); border-radius:14px; display:grid; gap:6px; padding:12px; z-index:1400; transform:translateY(-12px); opacity:0; pointer-events:none; transition:transform .2s ease,opacity .2s ease }
      .primary-nav a{ color:#fff; padding:12px 10px; }
      .site-header.open .primary-nav{ transform:none; opacity:1; pointer-events:auto }
      .lang-switch{ width:100%; margin:6px 0 0; background:#ffffff1c; border-color:rgba(255,255,255,.35); box-shadow:none }
      .lang-btn{ color:#fff }
      .lang-btn[aria-pressed="true"]{ background:#ffffff; color:#0f172a }
    }

    .menu-scrim{ position:fixed; inset:0; background:rgba(2,8,20,.28); z-index:1300; display:none }
    .menu-scrim:not([hidden]){ display:block }
    body.no-scroll{ position:fixed; width:100% }

    /* ===== Hero ===== */
    .hero{position:relative; overflow:hidden; display:grid; place-items:center; text-align:center; color:#fff; min-height: clamp(420px, 60vh, 620px); background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.6)), url('https://i.imgur.com/DzCh11Q.jpeg') center/cover no-repeat; padding: 28px 16px; padding-top:calc(var(--header-h) + 12px)}
    .hero h1{margin:6px 0 10px; font-weight:800; font-size:clamp(26px,4.2vw,44px); text-shadow:0 6px 28px rgba(0,0,0,.45)}
    .hero p{max-width:980px; margin:0 auto; color:#e6f2ef}
    .back-chip{position:absolute; top:calc(var(--header-h) + 10px); left:16px; z-index:1; display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:999px; font-weight:800; text-decoration:none; background:#fff; border:1px solid rgba(2,8,20,.08); color:#0f172a; box-shadow:var(--shadow-1)}
    .back-chip:hover{ transform:translateY(-1px) }

    /* ===== Layout: 2 columns (sticky TOC on wide screens) ===== */
    .wrap{max-width:var(--container); margin:auto; padding:34px 16px}
    @media (min-width:1100px){
      main.wrap{ display:grid; grid-template-columns: 300px minmax(0,1fr); gap:20px; align-items:start }
      #toc{ grid-column:1; position:sticky; top:calc(var(--header-h) + 10px) }
      .part-switch{ grid-column:2; position:sticky; top:calc(var(--header-h) + 10px); z-index:1 }
      section.section-block{ grid-column:2 }
    }

    /* ===== TOC card ===== */
    #toc{ background:#fff;border:1px solid #e3ece5;border-radius:16px;padding:14px 16px;box-shadow:var(--shadow-1) }
    #toc h2.section{ font-size:1rem; margin:0 0 6px; display:flex; align-items:center; gap:10px }
    #toc p{display:grid;gap:8px;margin:10px 0 0}
    .toc-chip{display:flex; align-items:center; justify-content:space-between; width:100%; padding:10px 12px;border-radius:10px;background:#ecf4ef;border:1px solid #d8e7dd;color:#1f2a24;text-decoration:none;font-weight:800}
    .toc-chip::after{ content:"›"; opacity:.5 }
    .toc-chip[aria-current="true"], .toc-chip.is-active{background:var(--brand-2); color:#fff; border-color:transparent; box-shadow:0 6px 16px rgba(2,8,20,.12)}

    /* ===== Section cards + gradient stripe + icons on H2 ===== */
    section.section-block{background:#fff; border:1px solid #e3ece5; border-radius:16px; padding:18px 16px; box-shadow:var(--shadow-1); position:relative; overflow:hidden; margin-bottom:16px}
    section.section-block::after{content:""; position:absolute; left:0; right:0; bottom:0; height:4px; background:linear-gradient(90deg,var(--brand-2),#59a286,#9bd4b9); opacity:.85}
    h2.section{margin:0 0 8px; font-size:clamp(22px,2.6vw,30px); font-weight:800; color:#1f2a24; display:flex; align-items:center; gap:10px; position:relative}
    .section-block>h2.section::before{ content:var(--icon, "📘"); font-size:20px; line-height:1 }
    #rec>h2.section{ --icon:"🧪" }  #prep>h2.section{ --icon:"🧼" }  #window>h2.section{ --icon:"⏱️" }
    #fixture>h2.section{ --icon:"🧰" } #care>h2.section{ --icon:"🛡️" } #defects>h2.section{ --icon:"⚠️" } #links>h2.section{ --icon:"🔗" }
    .section-block>h2.section::after{ content:"#"; position:absolute; right:10px; top:50%; transform:translateY(-50%); opacity:0; transition:opacity .2s ease; font-weight:800; color:var(--muted); font-size:.92rem }
    .section-block:hover>h2.section::after{ opacity:.85 }

    .lead{margin:0 0 16px; color:#5f6d7c}

    /* ===== Tables: glossy look ===== */
    .table table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid #e3ece5;border-radius:12px;overflow:hidden}
    .table thead th{background:linear-gradient(180deg,#f6fbf8,#eef6f1); position:sticky; top:0; z-index:1}
    .table thead th::after{content:""; position:absolute; inset:0 0 auto 0; height:2px; background:linear-gradient(90deg,#d9efe4,transparent)}
    .table th,.table td{padding:12px 10px;border-bottom:1px solid #e9f0ea;vertical-align:top}
    .table tbody tr:nth-child(2n){background:#fbfdfc}
    .table tbody tr:hover{ background:#f6fbf8 }

    /* Part switcher */
    [hidden]{display:none !important}
    .part-switch{display:flex;gap:8px;align-items:center;margin:16px 0 14px}
    .part-btn{appearance:none;border:1px solid #d8e7dd;background:#ecf4ef;padding:8px 12px;border-radius:999px;font-weight:800;cursor:pointer}
    .part-btn[aria-pressed="true"]{background:var(--brand-2);color:#fff;border-color:transparent;box-shadow:0 6px 16px rgba(2,8,20,.12)}

    /* Footer in Part B */

    /* Reveal */
    .reveal{opacity:0; transform: translateY(14px); transition: opacity .5s ease, transform .5s ease}
    .reveal.show{opacity:1; transform:none}

    /* Utils */
    html{scroll-behavior:smooth}
    .section-block{scroll-margin-top:calc(var(--header-h) + 18px)}
  </style>
</head>
<body>

  <!-- ===== Header (transparent → dark on scroll) ===== -->
  <header class="site-header" id="siteHeader" role="banner" aria-label="Site header">
    <div class="nav-bar">
      <a class="brand" href="https://www.baumechemical.com/" aria-label="Baume Chemical Home">
        <span class="brand-logo" aria-hidden="true"></span>
        <span class="brand-name">Baume Chemical</span>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav" aria-label="เปิดเมนู">
        <span class="bar"></span>
      </button>

      <!-- Global menu + language switch (desktop inline, mobile inside dropdown) -->
      <nav id="primary-nav" class="primary-nav" aria-label="Primary" aria-hidden="true">
        <a href="https://www.baumechemical.com/index.html" data-i18n-key="nav_home">Home</a>
        <a href="https://www.baumechemical.com/about-us.html" data-i18n-key="nav_about">About us</a>
        <a href="https://www.baumechemical.com/products.html" data-i18n-key="nav_products">Products</a>
        <a href="https://www.baumechemical.com/contact-us.html" data-i18n-key="nav_contact">Contact Us</a>
        <a href="https://www.baumechemical.com/blog/" data-i18n-key="nav_blog" aria-current="page">Blog</a>

        <div class="lang-switch" role="group" aria-label="Language switcher">
          <button class="lang-btn" data-lang="th" aria-pressed="true" title="ภาษาไทย">
            <img src="https://flagcdn.com/24x18/th.png" srcset="https://flagcdn.com/48x36/th.png 2x" alt="TH"><span>ไทย</span>
          </button>
          <button class="lang-btn" data-lang="en" aria-pressed="false" title="English">
            <img src="https://flagcdn.com/24x18/gb.png" srcset="https://flagcdn.com/48x36/gb.png 2x" alt="EN"><span>EN</span>
          </button>
        </div>
      </nav>
    </div>
  </header>
  <div class="menu-scrim" hidden></div>

  <!-- ===== Hero ===== -->
  <header class="hero">
    <a class="back-chip" href="https://www.baumechemical.com/" data-back data-i18n-key="back_home">← กลับเมนูหลัก</a>
    <div class="wrap" style="display:block; padding:28px 16px; max-width:1200px; margin:auto">
      <h1 data-i18n-key="hero_title">คู่มือแก้ปัญหายอดฮิตในการชุบทองเหลืองบนเหล็กและทองแดง</h1>
      <p data-i18n-key="hero_tagline">สเต็ปคุมคุณภาพตั้งแต่เตรียมผิว–ชุบ–หลังชุบ พร้อมหน้าต่างกระบวนการ ฟิกซ์เจอร์ การดูแลบ่อ และตารางแก้ไขปัญหา</p>
    </div>
  </header>

  <main class="wrap">
    <!-- Part Switcher -->
    <div class="part-switch" role="tablist" aria-label="เลือกพาร์ต">
      <button class="part-btn" role="tab" data-part="1" aria-pressed="true" aria-selected="true"><span data-i18n-key="part1">พาร์ต 1: ค่าเริ่มต้น & หน้าต่างกระบวนการ</span></button>
      <button class="part-btn" role="tab" data-part="2" aria-pressed="false" aria-selected="false"><span data-i18n-key="part2">พาร์ต 2: ฟิกซ์เจอร์/คุณภาพ/ตารางปัญหา</span></button>
    </div>

    <!-- TOC (sticky left on desktop) -->
    <nav id="toc" class="reveal" aria-label="สารบัญ">
      <h2 class="section" data-i18n-key="toc_title">สารบัญ</h2>
      <p>
        <a class="toc-chip" href="#rec" data-part="1" data-i18n-key="toc_rec">ค่าเริ่มต้นที่แนะนำ</a>
        <a class="toc-chip" href="#prep" data-part="1" data-i18n-key="toc_prep">การเตรียมผิวก่อนชุบ</a>
        <a class="toc-chip" href="#window" data-part="1" data-i18n-key="toc_window">หน้าต่างกระบวนการ</a>
        <a class="toc-chip" href="#fixture" data-part="2" data-i18n-key="toc_fixture">การจัดวาง</a>
        <a class="toc-chip" href="#care" data-part="2" data-i18n-key="toc_care">การดูแลบ่อและคุณภาพ</a>
        <a class="toc-chip" href="#defects" data-part="2" data-i18n-key="toc_defects">ตารางปัญหาพบเจอบ่อย</a>
        <a class="toc-chip" href="#links" data-part="2" data-i18n-key="toc_links">ลิงก์ที่เกี่ยวข้องกับบทความนี้</a>
      </p>
    </nav>

    <!-- 1) ค่าเริ่มต้นที่แนะนำ -->
    <section id="rec" data-part="1" class="reveal section-block" aria-labelledby="rec-h">
      <h2 id="rec-h" class="section" data-i18n-key="rec_h">ค่าเริ่มต้นที่แนะนำ</h2>
      <p data-i18n-key="rec_p1">ใช้เป็นกรอบตั้งต้น—ตรวจสอบกับสเปกน้ำยา/ผู้ผลิตของคุณ และปรับครั้งละตัวบนชิ้นงานจริง</p>
      <div class="table">
        <table>
          <thead>
            <tr>
              <th data-i18n-key="rec_th_param">พารามิเตอร์</th>
              <th data-i18n-key="rec_th_range">ช่วงตั้งต้น</th>
              <th data-i18n-key="rec_th_note">หมายเหตุ</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-i18n-key="bp_sub">ชิ้นงาน</td>
              <td data-i18n-key="bp_sub_v">เหล็ก / ทองแดง</td>
              <td data-i18n-key="bp_sub_n">เหล็กมักต้องมีชั้นรองพื้น (strike) เพื่อยึดเกาะ</td>
            </tr>
            <tr>
              <td data-i18n-key="bp_strike">ชั้นรองพื้น</td>
              <td data-i18n-key="bp_strike_v">Copper strike บางๆ บนเหล็ก (หรือชั้น barrier ที่เหมาะสม)</td>
              <td data-i18n-key="bp_strike_n">ช่วยยึดเกาะและลดสนิมย้อน</td>
            </tr>
            <tr>
              <td data-i18n-key="bp_temp">อุณหภูมิอ่างทองเหลือง</td>
              <td data-i18n-key="bp_temp_v">อุ่น–อุ่นจัด (ตามสเปกผู้ผลิต)</td>
              <td data-i18n-key="bp_temp_n">อุณหภูมิคงที่ลดโทนเพี้ยน/ไหม้ขอบ</td>
            </tr>
            <tr>
              <td data-i18n-key="bp_cd">ความหนาแน่นกระแส</td>
              <td data-i18n-key="bp_cd_v">ค่ากลางของสเปก</td>
              <td data-i18n-key="bp_cd_n">รันขึ้นไฟแบบ ramp เพื่อลดไหม้ขอบ</td>
            </tr>
            <tr>
              <td data-i18n-key="bp_agit">การกวน/การไหล</td>
              <td data-i18n-key="bp_agit_v">กวนอ่อนสม่ำเสมอ</td>
              <td data-i18n-key="bp_agit_n">ช่วยโทนเสมอและลดพิตติ้ง</td>
            </tr>
            <tr>
              <td data-i18n-key="bp_anode">แอโนด</td>
              <td data-i18n-key="bp_anode_v">ทองแดง:สังกะสี ตามสัดส่วนอัลลอยเป้าหมาย</td>
              <td data-i18n-key="bp_anode_n">ใช้ถุงผ้า/แยกแอโนดเพื่อคุมองค์ประกอบ</td>
            </tr>
            <tr>
              <td data-i18n-key="bp_rinse">การล้าง</td>
              <td data-i18n-key="bp_rinse_v">DI ไหลทวน 2–3 ขั้น</td>
              <td data-i18n-key="bp_rinse_n">ลดคราบเกลือ/คราบรุ้งและปนเปื้อนข้ามขั้น</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="lead" data-i18n-key="safety_note">หมายเหตุความปลอดภัย: ปฏิบัติตามคู่มือผู้ผลิตอย่างเคร่งครัด โดยเฉพาะสารอันตราย ใช้อุปกรณ์ป้องกันและระบบระบายอากาศที่เหมาะสม</p>
    </section>

    <!-- 2) การเตรียมผิวก่อนชุบ -->
    <section id="prep" data-part="1" class="reveal section-block" aria-labelledby="prep-h">
      <h2 id="prep-h" class="section" data-i18n-key="prep_h">การเตรียมผิวก่อนชุบ</h2>
      <ul>
        <li data-i18n-key="prep_1">ล้างไขมัน (ด่าง/อัลตร้าโซนิก) → ล้างน้ำหลายขั้นคุณภาพดี</li>
        <li data-i18n-key="prep_2">กำจัดออกไซด์/สนิมอย่างอ่อนโยน → ล้าง DI เข้ม</li>
        <li data-i18n-key="prep_3">Activate ให้ผิว reactive ทันที ก่อนเข้า strike/ทองเหลือง</li>
        <li data-i18n-key="prep_4">สำหรับทองแดงฐาน: พิจารณาชั้น barrier (เช่น นิกเกิลบาง) หากต้องการคุมสี/การแพร่</li>
      </ul>
    </section>

    <!-- 3) หน้าต่างกระบวนการ -->
    <section id="window" data-part="1" class="reveal section-block" aria-labelledby="window-h">
      <h2 id="window-h" class="section" data-i18n-key="window_h">หน้าต่างกระบวนการ</h2>
      <div class="table">
        <table>
          <thead>
            <tr>
              <th data-i18n-key="win_th_cond">ตัวแปร</th>
              <th data-i18n-key="win_th_low">ต่ำ</th>
              <th data-i18n-key="win_th_mid">กลาง</th>
              <th data-i18n-key="win_th_high">สูง</th>
              <th data-i18n-key="win_th_obs">สังเกตการณ์</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-i18n-key="w_cd">กระแส (A/dm²)</td>
              <td data-i18n-key="w_cd_l">ต่ำ</td>
              <td data-i18n-key="w_cd_m">ค่ากลาง</td>
              <td data-i18n-key="w_cd_h">สูง</td>
              <td data-i18n-key="w_cd_n">ต่ำ → สีหม่น/ช้า; สูง → ไหม้ขอบ/หยาบ/โทนเพี้ยน</td>
            </tr>
            <tr>
              <td data-i18n-key="w_temp">อุณหภูมิ</td>
              <td data-i18n-key="w_temp_l">ต่ำ</td>
              <td data-i18n-key="w_temp_m">คงที่กลาง</td>
              <td data-i18n-key="w_temp_h">สูง</td>
              <td data-i18n-key="w_temp_n">ต่ำ → ยึดเกาะ/สีไม่เต็ม; สูง → พิตติ้ง/ฟอง/โทนเหลื่อม</td>
            </tr>
            <tr>
              <td data-i18n-key="w_flow">การกวน/การไหล</td>
              <td data-i18n-key="w_flow_l">ไม่มี</td>
              <td data-i18n-key="w_flow_m">อ่อน</td>
              <td data-i18n-key="w_flow_h">แรง</td>
              <td data-i18n-key="w_flow_n">อ่อน → โทนไม่เสมอ; แรง → ริ้ว/คราบทางน้ำ</td>
            </tr>
            <tr>
              <td data-i18n-key="w_comp">องค์ประกอบ Cu:Zn</td>
              <td data-i18n-key="w_comp_l">Zn สูงเกิน</td>
              <td data-i18n-key="w_comp_m">ตามเป้า</td>
              <td data-i18n-key="w_comp_h">Cu สูงเกิน</td>
              <td data-i18n-key="w_comp_n">Zn มาก → สีออกเขียวหม่น; Cu มาก → ออกแดง/ทองแดง</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p data-i18n-key="window_p2">ทดสอบ Hull cell/แผ่นทดสอบเพื่อจูนหน้าต่างจริงของคุณ และบันทึกสแตนดาร์ดรับ–ไม่รับ</p>
    </section>
    <!-- 4) การจัดวาง -->
    <section id="fixture" data-part="2" class="reveal section-block" aria-labelledby="fixture-h">
      <h2 id="fixture-h" class="section" data-i18n-key="fixture_h">การจัดวาง</h2>
      <p data-i18n-key="fixture_p1">แขวนให้ระบายน้ำ/ก๊าซได้ดี ลดเงาบัง (shadow) ระยะห่างชิ้นงานสม่ำเสมอ จุดคีบสะอาดและมั่นคง</p>
      <p data-i18n-key="fixture_p2">คุมระยะ anode–cathode ให้สม่ำเสมอ ใช้ถุงแอโนดลดตะกอนแขวนลอย และแยกโซนแอโนด Cu/Zn เพื่อคุมอัลลอย</p>
      <p data-i18n-key="fixture_p3">สำหรับ barrel: เติมชิ้นงาน/มีเดียให้เหมาะสม คุมรอบหมุนและกระแสเฉลี่ยต่อพื้นที่</p>
    </section>

    <!-- 5) การดูแลบ่อและคุณภาพ -->
    <section id="care" data-part="2" class="reveal section-block" aria-labelledby="care-h">
      <h2 id="care-h" class="section" data-i18n-key="care_h">การดูแลบ่อและคุณภาพ</h2>
      <ul>
        <li data-i18n-key="care_1">ติดตามองค์ประกอบโลหะและสารเติมแต่งตามคู่มือผู้ผลิต เติมตามแอมแปร์อาวร์/drag-out</li>
        <li data-i18n-key="care_2">กรองต่อเนื่อง–กำจัดตะกอน กำหนดรอบรีเฟรช/ถ่ายบางส่วนเพื่อลดสิ่งปน</li>
        <li data-i18n-key="care_3">ล้างแบบไหลทวนด้วย DI/RO และทำให้แห้งเร็วเพื่อลดคราบ/คราบรุ้ง</li>
        <li data-i18n-key="care_4">QC: สี/โทน (L*a*b*), ความเงา, การยึดเกาะ (tape bend), พิตติ้ง, ความทนหมอง/ซัลไฟด์, salt/humidity ตามมาตรฐานลูกค้า</li>
      </ul>
    </section>

    <!-- 6) ตารางปัญหาพบเจอบ่อย -->
    <section id="defects" data-part="2" class="reveal section-block" aria-labelledby="defects-h">
      <h2 id="defects-h" class="section" data-i18n-key="def_h">ตารางปัญหาพบเจอบ่อย</h2>
      <div class="table">
        <table>
          <thead>
            <tr>
              <th data-i18n-key="def_th_sym">อาการ</th>
              <th data-i18n-key="def_th_cause">สาเหตุหลัก</th>
              <th data-i18n-key="def_th_fix">แนวทางแก้</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-i18n-key="d1_s">ลอก/ยึดเกาะไม่ดี (โดยเฉพาะเหล็ก)</td>
              <td data-i18n-key="d1_c">ผิวไม่สะอาด เวลาข้ามขั้นนาน ไม่มีชั้น strike หรือ strike บาง/ปนเปื้อน</td>
              <td data-i18n-key="d1_f">ทำความสะอาด–Activate ใหม่ ลดเวลาระหว่างขั้น เพิ่ม/ปรับ strike ให้เหมาะสม</td>
            </tr>
            <tr>
              <td data-i18n-key="d2_s">โทนออกแดง/ออกเขียว</td>
              <td data-i18n-key="d2_c">องค์ประกอบ Cu:Zn เพี้ยน อุณหภูมิ/กระแสไม่สมดุล</td>
              <td data-i18n-key="d2_f">ปรับสัดส่วนแอโนด/ส่วนผสม จูนอุณหภูมิ–กระแสสู่ค่ากลาง</td>
            </tr>
            <tr>
              <td data-i18n-key="d3_s">พิตติ้ง/รูเข็ม</td>
              <td data-i18n-key="d3_c">อากาศ/สิ่งแขวนลอย สบู่/น้ำมันปน ล้างไม่พอ</td>
              <td data-i18n-key="d3_f">เพิ่มการกวนที่เหมาะสม กรองต่อเนื่อง เพิ่มขั้นล้างและพักระบายน้ำ</td>
            </tr>
            <tr>
              <td data-i18n-key="d4_s">ไหม้ขอบ/หยาบบริเวณ LAC (มุม/สัน)</td>
              <td data-i18n-key="d4_c">กระแสเกิน/ขึ้นไฟเร็วเกิน ระยะ anode–cathode ใกล้</td>
              <td data-i18n-key="d4_f">ใช้ ramp current/ลดกระแสเฉพาะต้น ลดระยะกระแสพีค เพิ่มระยะห่าง/หน้ากาก</td>
            </tr>
            <tr>
              <td data-i18n-key="d5_s">เป็นปื้น/เงาไม่เสมอ</td>
              <td data-i18n-key="d5_c">การกวนไม่ทั่ว เงาบังจากฟิกซ์เจอร์ DRAG-IN จากขั้นก่อน</td>
              <td data-i18n-key="d5_f">ปรับการไหล/กวน จัดวางใหม่ เพิ่มเวลาล้าง/เปลี่ยนน้ำ</td>
            </tr>
            <tr>
              <td data-i18n-key="d6_s">สีเปลี่ยนเร็ว/หมองไว</td>
              <td data-i18n-key="d6_c">องค์ประกอบอัลลอยไม่เหมาะ ไม่มีทรีตเมนต์กันหมอง</td>
              <td data-i18n-key="d6_f">จูนองค์ประกอบสู่โทนเป้าหมาย และเคลือบ Anti-tarnish/ท็อปโค้ท</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- 7) ลิงก์ที่เกี่ยวข้อง -->
    <section id="links" data-part="2" class="reveal section-block" aria-labelledby="links-h">
      <h2 id="links-h" class="section" data-i18n-key="links_h">ลิงก์ที่เกี่ยวข้องกับบทความนี้</h2>
      <p><a class="more" href="https://www.baumechemical.com/blog/anti-tarnish-selection/" data-i18n-key="link_at">คู่มือเลือกสารกันหมอง (Anti-tarnish)</a></p>
      <p><a class="more" href="https://www.baumechemical.com/blog/nickel-on-steel-copper-undercoat/" data-i18n-key="link_nicu">นิกเกิลบนเหล็กต้องรองพื้นทองแดงไหม? (Barrier idea)</a></p>
      <p><a class="more" href="https://www.baumechemical.com/blog/plating-peeling-troubleshooting/" data-i18n-key="link_peel">ชุบลอก/ลอกไม่หมด: สาเหตุ & วิธีแก้</a></p>
      <p><a class="more" href="https://www.baumechemical.com/products/pretreatment/" data-i18n-key="link_pretreat">หมวด Pretreatment</a></p>
      <p><a class="more" href="https://www.baumechemical.com/products/platingcoating/" data-i18n-key="link_plating">หมวด Plating</a></p>
      <p><a class="more" href="https://www.baumechemical.com/products/protective/" data-i18n-key="link_protect">Protective/Anti-tarnish หลังชุบ</a></p>
      <p><a class="more" href="https://www.baumechemical.com/products/equipment/" data-i18n-key="link_equip">อุปกรณ์ กรอง/ถุงแอโนด/มีดลม</a></p>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-grid">
        <section class="footer-brand">
          <div class="ft-head"><div class="ft-logo"></div><div class="ft-name">Baume Chemical</div></div>
          <ul class="footer-list">
            <li>📍 31 ซอย เพชรเกษม 48 แยก 24 แขวง บางแวก</li>
            <li>📍 เขต ภาษีเจริญ กรุงเทพมหานคร 10160</li>
            <li>🕒 เวลาทำการ 08.00 - 17.00 น.</li>
            <li>📱 <a href="tel:+66925469887">092 546 9887</a></li>
          </ul>
        </section>

        <nav aria-label="หมวดหมู่ผลิตภัณฑ์">
          <h3 class="footer-title" data-i18n-key="footer_products">หมวดผลิตภัณฑ์</h3>
          <ul class="footer-list">
            <li><a href="https://www.baumechemical.com/products/pretreatment/">Pretreatment</a></li>
            <li><a href="https://www.baumechemical.com/products/platingcoating/">Plating</a></li>
            <li><a href="https://www.baumechemical.com/products/blackening/">Blackening</a></li>
            <li><a href="https://www.baumechemical.com/products/passivation/">Passivation</a></li>
            <li><a href="https://www.baumechemical.com/products/polishing/">Polishing</a></li>
            <li><a href="https://www.baumechemical.com/products/strippers/">Strippers</a></li>
            <li><a href="https://www.baumechemical.com/products/protective/">Protective Treatment</a></li>
            <li><a href="https://www.baumechemical.com/products/equipment/">Equipment</a></li>
          </ul>
        </nav>

        <section aria-label="ติดต่อเรา">
          <h3 class="footer-title" data-i18n-key="footer_contact">ติดต่อเรา</h3>
          <ul class="footer-list">
            <li>✉️ : <a href="mailto:contact@baumechemical.com">contact@baumechemical.com</a></li>
            <li>💬 : <a href="https://line.me/ti/p/~baumechemical" target="_blank" rel="noopener">@baumechemical</a></li>
            <li>🌐 : <a href="https://www.baumechemical.com/">baumechemical.com</a></li>
          </ul>
        </section>
      </div>
      <div class="footer-bottom"><div data-i18n-key="footer_copy">© 2025 Baume Chemical. All rights reserved.</div></div>
    </div>
  </footer>

  <!-- JS: Reveal on scroll -->
  <script>
    const revealEls = document.querySelectorAll('.reveal');
    const revObs = new IntersectionObserver((entries,obs)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); obs.unobserve(e.target);} });
    }, {threshold:.18});
    revealEls.forEach(el=>revObs.observe(el));
  </script>

  <!-- JS: i18n (with header height recalculation) -->
  <script>
    const I18N = {
      th: {
        nav_home:"Home", nav_about:"About Us", nav_products:"Products", nav_contact:"Contact Us", nav_blog:"Blog",
        back_home:"← กลับเมนูหลัก",
        hero_title:"คู่มือแก้ปัญหายอดฮิตในการชุบทองเหลืองบนเหล็กและทองแดง",
        hero_tagline:"สเต็ปคุมคุณภาพตั้งแต่เตรียมผิว–ชุบ–หลังชุบ พร้อมหน้าต่างกระบวนการ ฟิกซ์เจอร์ การดูแลบ่อ และตารางแก้ไขปัญหา",

        part1:"พาร์ต 1: ค่าเริ่มต้น & หน้าต่างกระบวนการ",
        part2:"พาร์ต 2: ฟิกซ์เจอร์/คุณภาพ/ตารางปัญหา",

        toc_title:"สารบัญ", toc_rec:"ค่าเริ่มต้นที่แนะนำ", toc_prep:"การเตรียมผิวก่อนชุบ", toc_window:"หน้าต่างกระบวนการ", toc_fixture:"การจัดวาง", toc_care:"การดูแลบ่อและคุณภาพ", toc_defects:"ตารางปัญหาพบเจอบ่อย", toc_links:"ลิงก์ที่เกี่ยวข้องกับบทความนี้",

        rec_h:"ค่าเริ่มต้นที่แนะนำ",
        rec_p1:"ใช้เป็นกรอบตั้งต้น—ตรวจสอบกับสเปกน้ำยาและปรับทีละตัว",
        rec_th_param:"พารามิเตอร์", rec_th_range:"ช่วงตั้งต้น", rec_th_note:"หมายเหตุ",
        bp_sub:"ชิ้นงาน", bp_sub_v:"เหล็ก / ทองแดง", bp_sub_n:"เหล็กมักต้องมีชั้น strike",
        bp_strike:"ชั้นรองพื้น", bp_strike_v:"Copper strike บนเหล็ก (หรือ barrier ที่เหมาะสม)", bp_strike_n:"เพิ่มการยึดเกาะและลดสนิมย้อน",
        bp_temp:"อุณหภูมิอ่างทองเหลือง", bp_temp_v:"อุ่น–อุ่นจัด", bp_temp_n:"อุณหภูมิคงที่ลดโทนเพี้ยน",
        bp_cd:"ความหนาแน่นกระแส", bp_cd_v:"ค่ากลางของสเปก", bp_cd_n:"ขึ้นไฟแบบ ramp ลดไหม้ขอบ",
        bp_agit:"การกวน/การไหล", bp_agit_v:"กวนอ่อน", bp_agit_n:"ช่วยโทนเสมอ/ลดพิตติ้ง",
        bp_anode:"แอโนด", bp_anode_v:"Cu:Zn ตามอัลลอยเป้า", bp_anode_n:"ใช้ถุง/แยกแอโนดคุมองค์ประกอบ",
        bp_rinse:"การล้าง", bp_rinse_v:"DI ไหลทวน 2–3 ขั้น", bp_rinse_n:"ลดคราบและปนเปื้อน",
        safety_note:"หมายเหตุความปลอดภัย: ปฏิบัติตามคู่มือผู้ผลิต ใช้ PPE และระบบระบายอากาศ",

        prep_h:"การเตรียมผิวก่อนชุบ",
        prep_1:"ล้างไขมัน → ล้างหลายขั้น",
        prep_2:"กำจัดออกไซด์/สนิมอย่างอ่อนโยน → ล้าง DI เข้ม",
        prep_3:"Activate แล้วเข้า strike/ทองเหลืองทันที",
        prep_4:"ฐานทองแดง: พิจารณา barrier บางเพื่อคุมสี/การแพร่",

        window_h:"หน้าต่างกระบวนการ",
        win_th_cond:"ตัวแปร", win_th_low:"ต่ำ", win_th_mid:"กลาง", win_th_high:"สูง", win_th_obs:"สังเกตการณ์",
        w_cd:"กระแส (A/dm²)", w_cd_l:"ต่ำ", w_cd_m:"ค่ากลาง", w_cd_h:"สูง", w_cd_n:"ต่ำ → สีหม่น; สูง → ไหม้/หยาบ/เพี้ยน",
        w_temp:"อุณหภูมิ", w_temp_l:"ต่ำ", w_temp_m:"คงที่กลาง", w_temp_h:"สูง", w_temp_n:"ต่ำ → สีไม่เต็ม/ยึดเกาะอ่อน; สูง → พิตติ้ง/ฟอง",
        w_flow:"การกวน/การไหล", w_flow_l:"ไม่มี", w_flow_m:"อ่อน", w_flow_h:"แรง", w_flow_n:"อ่อน → ไม่เสมอ; แรง → ริ้ว/คราบ",
        w_comp:"องค์ประกอบ Cu:Zn", w_comp_l:"Zn สูง", w_comp_m:"ตามเป้า", w_comp_h:"Cu สูง", w_comp_n:"Zn มาก → ออกเขียว; Cu มาก → ออกแดง",

        fixture_h:"การจัดวาง",
        fixture_p1:"แขวนระบายดี ลดเงาบัง จุดคีบสะอาด",
        fixture_p2:"คุมระยะ anode–cathode ใช้ถุงแอโนด แยกแอโนด Cu/Zn",
        fixture_p3:"Barrel: ปริมาณ/รอบหมุนเหมาะสม กระแสเฉลี่ย",

        care_h:"การดูแลบ่อและคุณภาพ",
        care_1:"ติดตามองค์ประกอบและสารเติม เพิ่มตาม Ah/drag-out",
        care_2:"กรองต่อเนื่อง กำจัดตะกอน รีเฟรชตามรอบ",
        care_3:"DI ไหลทวน + ทำให้แห้งเร็ว",
        care_4:"QC: L*a*b*, เงา, adhesion, พิตติ้ง, ทนหมอง, salt/humidity",

        def_h:"ตารางปัญหาพบเจอบ่อย",
        def_th_sym:"อาการ", def_th_cause:"สาเหตุหลัก", def_th_fix:"แนวทางแก้",
        d1_s:"ลอก/ยึดเกาะไม่ดี", d1_c:"ผิวไม่สะอาด เวลาข้ามขั้นนาน ไม่มี/strike ไม่ดี", d1_f:"ทำผิวใหม่ ลดเวลาข้ามขั้น ปรับ strike",
        d2_s:"โทนออกแดง/เขียว", d2_c:"Cu:Zn เพี้ยน อุณหภูมิ/กระแสไม่สมดุล", d2_f:"ปรับองค์ประกอบ จูนอุณหภูมิ–กระแส",
        d3_s:"พิตติ้ง", d3_c:"อากาศ/แขวนลอย สบู่/น้ำมันปน ล้างไม่พอ", d3_f:"เพิ่มกวน กรอง เพิ่มล้าง",
        d4_s:"ไหม้ขอบ/หยาบ", d4_c:"กระแสสูง/ขึ้นไฟเร็ว ระยะ anode–cathode ใกล้", d4_f:"ramp current ลดพีค เพิ่มระยะ/หน้ากาก",
        d5_s:"เป็นปื้น/ไม่เสมอ", d5_c:"กวนไม่ทั่ว เงาบัง DRAG-IN", d5_f:"ปรับการไหล จัดวาง เพิ่มล้าง/เปลี่ยนน้ำ",
        d6_s:"หมองไว", d6_c:"อัลลอยไม่เหมาะ ไม่มีกันหมอง", d6_f:"จูนองค์ประกอบ + เคลือบ Anti-tarnish",

        links_h:"ลิงก์ที่เกี่ยวข้องกับบทความนี้",
        link_at:"คู่มือเลือกสารกันหมอง (Anti-tarnish)",
        link_nicu:"นิกเกิลบนเหล็กต้องรองพื้นทองแดงไหม? (Barrier idea)",
        link_peel:"ชุบลอก/ลอกไม่หมด: สาเหตุ & วิธีแก้",
        link_pretreat:"หมวด Pretreatment",
        link_plating:"หมวด Plating",
        link_protect:"Protective/Anti-tarnish หลังชุบ",
        link_equip:"อุปกรณ์ กรอง/ถุงแอโนด/มีดลม",

        footer_products:"หมวดผลิตภัณฑ์", footer_contact:"ติดต่อเรา", footer_copy:"© 2025 Baume Chemical. All rights reserved."
      },

      en: {
        nav_home:"Home", nav_about:"About Us", nav_products:"Products", nav_contact:"Contact Us", nav_blog:"Blog",
        back_home:"← Back to Home",
        hero_title:"Troubleshooting Brass Plating on Steel & Copper",
        hero_tagline:"Quality control from prep to post—process windows, fixturing, bath care and a defect–fix table.",

        part1:"Part 1: Baselines & Process Windows",
        part2:"Part 2: Fixturing/Quality/Troubleshooting",

        toc_title:"Contents", toc_rec:"Recommended baselines", toc_prep:"Surface preparation", toc_window:"Process windows", toc_fixture:"Fixturing", toc_care:"Bath care & Quality", toc_defects:"Common defects table", toc_links:"Related links",

        rec_h:"Recommended baselines",
        rec_p1:"Use as a starting frame—validate with your supplier spec and adjust one variable at a time.",
        rec_th_param:"Parameter", rec_th_range:"Baseline window", rec_th_note:"Notes",
        bp_sub:"Substrate", bp_sub_v:"Steel / Copper", bp_sub_n:"Steel typically needs a strike for adhesion",
        bp_strike:"Strike layer", bp_strike_v:"Light copper strike on steel (or suitable barrier)", bp_strike_n:"Improves adhesion & prevents under-rust",
        bp_temp:"Brass bath temperature", bp_temp_v:"Warm–hot per spec", bp_temp_n:"Keep steady to avoid tone drift/edge burn",
        bp_cd:"Current density", bp_cd_v:"Mid-spec", bp_cd_n:"Use ramp-up to reduce HCD burn",
        bp_agit:"Agitation/flow", bp_agit_v:"Gentle, even", bp_agit_n:"Improves uniform tone & lowers pitting",
        bp_anode:"Anodes", bp_anode_v:"Cu:Zn per target alloy", bp_anode_n:"Bag/segregate anodes to tune composition",
        bp_rinse:"Rinsing", bp_rinse_v:"DI counter-flow 2–3 stages", bp_rinse_n:"Minimizes stains/cross-contamination",
        safety_note:"Safety: follow maker’s instructions, use appropriate PPE and ventilation.",

        prep_h:"Surface preparation",
        prep_1:"Degrease → multi-stage rinses",
        prep_2:"Light de-scale/oxide removal → strong DI rinse",
        prep_3:"Activate and go directly to strike/brass",
        prep_4:"Copper base: consider a thin barrier (e.g., nickel) to stabilize color/diffusion",

        window_h:"Process windows",
        win_th_cond:"Variable", win_th_low:"Low", win_th_mid:"Mid", win_th_high:"High", win_th_obs:"Observation",
        w_cd:"Current (A/dm²)", w_cd_l:"Low", w_cd_m:"Mid", w_cd_h:"High", w_cd_n:"Low → dull/slow; High → edge burn/rough/color shift",
        w_temp:"Temperature", w_temp_l:"Low", w_temp_m:"Stable mid", w_temp_h:"High", w_temp_n:"Low → weak color/adhesion; High → pitting/foaming",
        w_flow:"Agitation/flow", w_flow_l:"None", w_flow_m:"Light", w_flow_h:"Strong", w_flow_n:"Light → non-uniform; Strong → runs/water marks",
        w_comp:"Cu:Zn alloy", w_comp_l:"High Zn", w_comp_m:"On target", w_comp_h:"High Cu", w_comp_n:"High Zn → greenish; High Cu → reddish",

        fixture_h:"Fixturing",
        fixture_p1:"Orient for drainage/venting, avoid shadowing; clean, firm contacts.",
        fixture_p2:"Control anode–cathode spacing; bag anodes; segregate Cu/Zn zones.",
        fixture_p3:"Barrel: proper fill/media, rotation and average current per area.",

        care_h:"Bath care & Quality",
        care_1:"Track alloy & additives; top-up by Ah/drag-out.",
        care_2:"Continuous filtration & sludge removal; planned partial refresh.",
        care_3:"DI counter-flow rinses and fast drying to prevent stains.",
        care_4:"QC: color/ tone (L*a*b*), gloss, adhesion (tape/bend), pitting, anti-tarnish performance, salt/humidity to spec.",

        def_h:"Common defects table",
        def_th_sym:"Symptom", def_th_cause:"Likely causes", def_th_fix:"Fix",
        d1_s:"Peel / poor adhesion (steel)", d1_c:"Poor prep; long delays; absent/weak strike", d1_f:"Re-prep & activate; shorten transfers; improve strike",
        d2_s:"Reddish/greenish tone", d2_c:"Cu:Zn off-target; temp/current imbalance", d2_f:"Adjust anodes/composition; tune temp/current",
        d3_s:"Pitting / pinholes", d3_c:"Air/solids; oils/soaps; inadequate rinsing", d3_f:"Gentle agitation; filtration; better rinsing",
        d4_s:"Edge burn / rough HCD", d4_c:"High current / rapid ramp; tight anode gap", d4_f:"Use current ramp; reduce peak; add shields/increase gap",
        d5_s:"Patchy / non-uniform", d5_c:"Poor flow; rack shadows; drag-in", d5_f:"Improve flow; re-rack; add rinse/drag-out control",
        d6_s:"Fast tarnish", d6_c:"Unsuitable alloy; no anti-tarnish", d6_f:"Re-tune alloy; apply anti-tarnish/top-coat",

        links_h:"Related links",
        link_at:"Anti-tarnish selection guide",
        link_nicu:"Nickel on steel: need copper undercoat? (Barrier)",
        link_peel:"Plating peeling / incomplete strip: causes & fixes",
        link_pretreat:"Pretreatment products",
        link_plating:"Plating products",
        link_protect:"Protective/Anti-tarnish",
        link_equip:"Equipment: filtration/anode bags/air knife",

        footer_products:"Products", footer_contact:"Contact Us", footer_copy:"© 2025 Baume Chemical. All rights reserved."
      }
    };

    const els = {
      langBtns: () => document.querySelectorAll('.lang-switch .lang-btn'),
      translatables: () => document.querySelectorAll('[data-i18n-key]'),
    };

    function applyLang(lang){
      const sel = (lang === 'en') ? 'en' : 'th';
      document.documentElement.lang = sel;
      els.langBtns().forEach(btn => btn.setAttribute('aria-pressed', String(btn.dataset.lang === sel)));
      els.translatables().forEach(node => {
        const key = node.getAttribute('data-i18n-key');
        if (key && I18N[sel] && I18N[sel][key]) node.textContent = I18N[sel][key];
      });
      try{ localStorage.setItem('lang', sel); }catch(e){}
      // recalc header height in case text wraps differently
      try{
        const h = document.getElementById('siteHeader').getBoundingClientRect().height|0;
        document.documentElement.style.setProperty('--header-h', h + 'px');
      }catch(e){}
    }

    (function initLang(){
      const saved = (typeof localStorage !== 'undefined' && localStorage.getItem('lang')) || 'th';
      applyLang(saved);
      els.langBtns().forEach(btn=> btn.addEventListener('click', ()=> applyLang(btn.dataset.lang)));
    })();
  </script>

  <!-- JS: Part switcher + deep-link persist -->
  <script>
  (function(){
    const buttons = document.querySelectorAll('.part-switch .part-btn');
    const tocLinks = document.querySelectorAll('#toc a[data-part]');
    const sections = document.querySelectorAll('section[data-part]');

    function setPart(p){
      const part = (p === '2') ? '2' : '1';
      document.documentElement.setAttribute('data-part', part);
      sections.forEach(sec => sec.hidden = (sec.dataset.part !== part));
      tocLinks.forEach(a => a.hidden = (a.dataset.part !== part));
      buttons.forEach(b => {
        const on = (b.dataset.part === part);
        b.setAttribute('aria-pressed', String(on));
        b.setAttribute('aria-selected', String(on));
      });
      try{ localStorage.setItem('brass_part', part); }catch(e){}
      const url = new URL(location);
      url.searchParams.set('part', part);
      history.replaceState(null,'',url);
    }

    const urlPart = new URLSearchParams(location.search).get('part');
    const saved = (typeof localStorage !== 'undefined' && localStorage.getItem('brass_part')) || '1';
    setPart(urlPart === '2' ? '2' : (urlPart === '1' ? '1' : saved));

    buttons.forEach(b => b.addEventListener('click', ()=>{
      setPart(b.dataset.part);
      document.getElementById('toc')?.scrollIntoView({behavior:'smooth', block:'start'});
    }));

    // TOC click switches to correct part before anchor scroll
    document.querySelectorAll('#toc a[data-part]').forEach(a=>{
      a.addEventListener('click', ()=>{
        const p = a.getAttribute('data-part');
        setPart(p);
      });
    });
  })();
  </script>

  <!-- JS: Header glass, mobile menu (scrim+lock), smart back, highlight current -->
  <script>
    (function(){
      const header = document.getElementById('siteHeader');
      const toggle = header?.querySelector('.nav-toggle');
      const nav = document.getElementById('primary-nav');
      const scrim = document.querySelector('.menu-scrim');

      // Set header height var & darken on scroll
      const setH = ()=>{ const h = header ? Math.round(header.getBoundingClientRect().height) : 64; document.documentElement.style.setProperty('--header-h', h + 'px'); };
      const onScroll = ()=> header && header.classList.toggle('is-scrolled', (window.scrollY||0) > 10);
      window.addEventListener('load', setH, {once:true});
      window.addEventListener('resize', setH, {passive:true});
      window.addEventListener('scroll', onScroll, {passive:true});
      setH(); onScroll();

      // Mobile menu open/close with body lock
      if(toggle && nav && scrim){
        let lockY = 0;
        function openMenu(v){
          header.classList.toggle('open', v);
          toggle.setAttribute('aria-expanded', String(v));
          nav.setAttribute('aria-hidden', String(!v));
          v ? scrim.removeAttribute('hidden') : scrim.setAttribute('hidden','');
          if(v){
            lockY = window.scrollY;
            document.body.classList.add('no-scroll');
            document.body.style.top = `-${lockY}px`;
            const first = nav.querySelector('a,button,[tabindex]:not([tabindex="-1"])');
            first && first.focus({preventScroll:true});
          }else{
            document.body.classList.remove('no-scroll');
            document.body.style.top = '';
            window.scrollTo(0, lockY);
            toggle.focus({preventScroll:true});
          }
        }
        toggle.addEventListener('click', ()=> openMenu(!header.classList.contains('open')));
        scrim.addEventListener('click', ()=> openMenu(false));
        document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && header.classList.contains('open')) openMenu(false); });
        window.addEventListener('resize', ()=>{ if (window.innerWidth > 900 && header.classList.contains('open')) openMenu(false); }, {passive:true});
        nav.querySelectorAll('a').forEach(a => a.addEventListener('click', ()=> openMenu(false)));
      }

      // Highlight current page; force Products when under /products/*
      try{
        const here = location.pathname.replace(/\/+$/,'');
        const isProducts = here.startsWith('/products');
        nav?.querySelectorAll('a').forEach(a=>{
          const path = new URL(a.getAttribute('href'), location.origin).pathname.replace(/\/+$/,'');
          if (isProducts && /\/products\/?$/.test(path)) a.setAttribute('aria-current','page');
          else if (here === path) a.setAttribute('aria-current','page');
          else a.removeAttribute('aria-current');
        });
      }catch(e){}

      // Back smart: prefer history if same-origin
      (function(){
        const btn = document.querySelector('[data-back]');
        if(!btn) return;
        btn.addEventListener('click', function(e){
          try{
            const ref = document.referrer;
            const sameOrigin = ref && new URL(ref).origin === location.origin;
            if(sameOrigin){ e.preventDefault(); history.back(); }
          }catch(err){}
        });
      })();
    })();
  </script>

  <!-- JS: Scroll-spy for TOC + heading anchors -->
  <script>
    // Clickable heading anchors (adds #id when clicking the H2)
    document.querySelectorAll('.section-block>h2.section').forEach(h=>{
      h.addEventListener('click', ()=>{
        const sec = h.closest('.section-block');
        if(sec && sec.id){ history.pushState(null,'','#'+sec.id); }
      });
    });

    (function(){
      const tocLinks = Array.from(document.querySelectorAll('#toc a[href^="#"]'));
      if (!tocLinks.length) return;
      const map = new Map();
      tocLinks.forEach(a=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if (el) map.set(id, {link:a, el});
      });

      const setActive = (id)=>{
        tocLinks.forEach(a=> a.classList.remove('is-active'));
        tocLinks.forEach(a=> a.setAttribute('aria-current','false'));
        const item = map.get(id);
        if (item){ item.link.classList.add('is-active'); item.link.setAttribute('aria-current','true'); }
      };

      const headerH = ()=> parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h'))||56;
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if (e.isIntersecting){
            const id = e.target.id;
            setActive(id);
            history.replaceState(null,'', `${location.pathname}${location.search}#${id}`);
          }
        });
      }, {rootMargin: `-${headerH()+24}px 0% -60% 0%`, threshold:.1});

      map.forEach(({el})=> obs.observe(el));
    })();
  </script>
</body>
</html>
