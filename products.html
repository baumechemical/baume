<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ===== SEO (with IDs for language switch) ===== -->
  <title id="metaTitle">ผลิตภัณฑ์เคมีงานชุบ โลหะ รมดำ พาสซิเวชัน | Baume Chemical</title>
  <meta id="metaDesc" name="description" content="รวมผลิตภัณฑ์เคมีงานชุบและการเตรียมผิว: Pretreatment, Plating, Blackening, Passivation, Strippers, Polishing พร้อมทีมเทคนิคและบริการหน้างาน.">
  <meta name="robots" content="index, follow, max-image-preview:large">
  <link rel="canonical" href="https://www.baumechemical.com/products.html">
  <meta name="theme-color" content="#2c5e4e">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Baume Chemical">
  <meta property="og:title" id="ogTitle" content="ผลิตภัณฑ์เคมีงานชุบ โลหะ รมดำ พาสซิเวชัน | Baume Chemical">
  <meta property="og:description" id="ogDesc" content="โซลูชันเคมีงานชุบครบวงจร พร้อมคำปรึกษาและทดสอบหน้างาน">
  <meta property="og:url" content="https://www.baumechemical.com/products.html">
  <meta property="og:image" content="https://i.imgur.com/3xwVLZZ.jpeg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Baume Chemical — Electroplating & Surface Preparation">
  <meta property="og:locale" id="ogLocale" content="th_TH">
  <meta property="og:locale:alternate" content="en_US">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" id="twTitle" content="ผลิตภัณฑ์เคมีงานชุบ โลหะ รมดำ พาสซิเวชัน | Baume Chemical">
  <meta name="twitter:description" id="twDesc" content="โซลูชันเคมีงานชุบครบวงจร พร้อมคำปรึกษาและทดสอบหน้างาน">
  <meta name="twitter:image" content="https://i.imgur.com/3xwVLZZ.jpeg">

  <!-- Fonts & Perf -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="preload" as="image" href="https://i.imgur.com/3xwVLZZ.jpeg">

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Baume Chemical",
    "url":"https://www.baumechemical.com/",
    "logo":"https://www.baumechemical.com/assets/logo.png",
    "sameAs":["https://line.me/ti/p/~baumechemical"]
  }
  </script>

  <!-- JSON-LD: Products CollectionPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"CollectionPage",
    "name":"ผลิตภัณฑ์ | Baume Chemical",
    "url":"https://www.baumechemical.com/products.html",
    "inLanguage":"th",
    "isPartOf":{"@type":"WebSite","url":"https://www.baumechemical.com/","name":"Baume Chemical"},
    "description":"รวมผลิตภัณฑ์เคมีงานชุบและการเตรียมผิว Pretreatment, Plating, Blackening, Passivation, Strippers, Polishing"
  }
  </script>

  <!-- JSON-LD: Breadcrumb Home → Products -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1,
        "name": "Home", "item": "https://www.baumechemical.com/" },
      { "@type": "ListItem", "position": 2,
        "name": "Products", "item": "https://www.baumechemical.com/products.html" }
    ]
  }
  </script>

  <!-- JSON-LD: ItemList of product categories -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ItemList",
    "itemListOrder":"http://schema.org/ItemListOrderAscending",
    "numberOfItems": 9,
    "itemListElement": [
      {"@type":"ListItem","position":1,"name":"Pretreatment","url":"https://www.baumechemical.com/products/pretreatment.html"},
      {"@type":"ListItem","position":2,"name":"Plating","url":"https://www.baumechemical.com/products/platingcoating.html"},
      {"@type":"ListItem","position":3,"name":"Blackening","url":"https://www.baumechemical.com/products/blackening.html"},
      {"@type":"ListItem","position":4,"name":"Passivation","url":"https://www.baumechemical.com/products/passivation.html"},
      {"@type":"ListItem","position":5,"name":"Polishing","url":"https://www.baumechemical.com/products/polishing.html"},
      {"@type":"ListItem","position":6,"name":"Strippers","url":"https://www.baumechemical.com/products/strippers.html"},
      {"@type":"ListItem","position":7,"name":"Protective Treatment","url":"https://www.baumechemical.com/products/protective.html"},
      {"@type":"ListItem","position":8,"name":"Customer service","url":"https://www.baumechemical.com/products/service.html"},
      {"@type":"ListItem","position":9,"name":"Equipment","url":"https://www.baumechemical.com/products/equipment.html"}
    ]
  }
  </script>

  <style>
    :root{
      --brand:#2c5e4e;
      --brand-2:#387b5b;
      --accent:#387b5b;
      --ink:#0f172a;
      --muted:#5b6a7c;
      --bg:#f4f6f5;
      --logo-url:url('https://img2.pic.in.th/pic/Baume.jpg');
      --radius:16px;
      --radius-lg:22px;
      --shadow-1:0 8px 24px rgba(2,8,20,.06);
      --shadow-2:0 16px 44px rgba(2,8,20,.14);
      --header-h:64px;
      --container:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:'Noto Sans Thai',system-ui,sans-serif;color:var(--ink);background:var(--bg);line-height:1.6;-webkit-font-smoothing:antialiased}

    /* ===== HEADER ===== */
    .site-header{
      position:absolute; inset:0 auto auto 0; right:0; z-index:1400;
      background:linear-gradient(180deg, rgba(4,10,22,.66), rgba(4,10,22,0));
      border-bottom:1px solid rgba(255,255,255,.12);
      -webkit-backdrop-filter: blur(4px); backdrop-filter: blur(4px);
    }
    .header-inner{max-width:var(--container); margin:0 auto; min-height:var(--header-h);
      display:flex; align-items:center; justify-content:space-between; padding:10px 16px;}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none}
    .brand-logo{width:44px;height:44px;border-radius:10px;flex:0 0 44px;background:#dfe9e3 var(--logo-url) center/cover no-repeat; box-shadow:0 2px 9px rgba(2,8,20,.14)}
    .brand-name{font-weight:800; color:#fff; font-size:1.04rem; letter-spacing:.2px}
    .primary-nav{display:flex; align-items:center; gap:10px}
    .menu{list-style:none; display:flex; gap:6px; margin:0; padding:0}
    .menu a{display:inline-block; padding:10px 12px; border-radius:12px; color:#fff; text-decoration:none; font-weight:700; letter-spacing:.2px}
    .menu a:hover{ background:rgba(255,255,255,.12) }
    .menu a[aria-current="page"]{ background:rgba(255,255,255,.18) }
    .nav-toggle{appearance:none; border:0; background:transparent; cursor:pointer; width:38px;height:38px;border-radius:9px;display:none; align-items:center; justify-content:center}
    .nav-toggle .bar{ position:relative; width:22px; height:2px; background:#fff; border-radius:2px }
    .nav-toggle .bar::before,.nav-toggle .bar::after{ content:""; position:absolute; left:0; right:0; height:2px; background:#fff; border-radius:2px }
    .nav-toggle .bar::before{ top:-7px } .nav-toggle .bar::after{ top:7px }

    @media (max-width:920px){
      .menu{
        position:fixed; left:12px; right:12px; top:calc(var(--header-h) + 10px);
        background:#0f172acc; -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);
        border:1px solid rgba(255,255,255,.16); border-radius:16px;
        transform:translateY(-12px); opacity:0; pointer-events:none;
        display:grid; gap:6px; padding:12px; transition:.2s ease;
      }
      .menu li a{ display:block; padding:12px 14px; border-radius:12px }
      .site-header.open .menu{ transform:none; opacity:1; pointer-events:auto }
      .nav-toggle{ display:inline-flex }
    }

    /* ===== HERO ===== */
    .hero{
      position:relative; overflow:hidden; color:#fff; text-align:center;
      min-height: clamp(520px, 68vh, 760px);
      display:grid; place-items:center; padding-top:var(--header-h); isolation:isolate;
    }
    .hero .container{max-width:var(--container); margin:0 auto; padding:0 18px}
    .slides{position:absolute; inset:0}
    .slide{position:absolute; inset:-4%; background-size:cover; background-position:center; filter:brightness(.86); transform:scale(1.04); opacity:0; transition:opacity 900ms ease, transform 5200ms ease}
    .slide.active{opacity:1; transform:scale(1.09)}
    .hero::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.42), rgba(0,0,0,.7))}
    .hero-inner{position:relative; z-index:2; padding:18px 0}
    .hero h1{margin:0 0 10px; font-size: clamp(28px,4.4vw,48px); font-weight:800; text-shadow:0 8px 30px rgba(0,0,0,.45)}
    .hero p{margin:0 auto 18px; max-width:880px; color:#dbe6ea}
    .actions{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .btn{appearance:none;border:1px solid var(--accent);background:var(--accent);color:#fff;padding:12px 16px;border-radius:12px;font-weight:800;text-decoration:none;box-shadow:var(--shadow-1)}
    .btn:hover{opacity:.92}
    .btn.ghost{background:transparent;border-color:#fff;color:#fff}

    .dots{position:absolute; inset:auto 0 18px 0; z-index:2; display:flex; gap:8px; justify-content:center}
    .dot{width:9px; height:9px; border-radius:50%; background:rgba(255,255,255,.5); border:1px solid rgba(0,0,0,.2)}
    .dot[aria-current="true"]{background:#fff}

    /* FAB ภาษา */
    .lang-fab{
      position:absolute; right:18px; bottom:18px; z-index:3; display:flex; gap:6px; padding:4px 4px;
      border:1px solid rgba(226,232,240,.9); border-radius:999px; background:#ffffffcc; backdrop-filter: blur(8px); box-shadow:0 10px 26px rgba(2,8,20,.12);
    }
    .lang-fab .lang-btn{appearance:none;border:0;background:transparent;cursor:pointer;padding:6px 10px;border-radius:999px;font-weight:800;display:flex;align-items:center;gap:6px;color:#0f172a;letter-spacing:.1px}
    .lang-fab .lang-btn[aria-pressed="true"]{ background: var(--brand-2); color:#fff }
    .lang-fab .flag{ width:18px; height:14px; border-radius:2px; object-fit:cover; box-shadow:0 0 0 1px rgba(0,0,0,.08) }

    /* ===== Sub-hero ===== */
    .subhero{background:#fff; border-radius:0 0 var(--radius-lg) var(--radius-lg); box-shadow:0 10px 30px rgba(2,8,20,.06); margin-top:-14px}
    .subhero .container{max-width:var(--container); margin:0 auto; padding:18px}
    .subhero h2{margin:0; font-size:1.35rem}
    .subhero p{margin:4px 0 0; color:var(--muted)}

    /* ===== Toolbar ===== */
    .toolbar{position:sticky; top:0; z-index:20; background:#fff; border-bottom:1px solid #e2e8f0; box-shadow:0 6px 18px rgba(2,8,20,.05)}
    .toolbar-inner{max-width:var(--container); margin:0 auto; padding:12px 18px; display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .input, select{border:1px solid #dbe1ea; background:#fff; padding:11px 12px; border-radius:12px; min-width:220px; box-shadow:var(--shadow-1)}
    #q{min-width:260px}
    .count{margin-left:auto; color:var(--muted); font-weight:600; font-variant-numeric: tabular-nums;}

    /* ===== Grid & Card ===== */
    .wrap{max-width:var(--container); margin:24px auto; padding:0 18px}
    .grid{display:grid; gap:18px; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); position:relative}
    .card{background:#fff; border:1px solid #e6ecf3; border-radius:var(--radius); box-shadow:var(--shadow-1); overflow:hidden; display:flex; flex-direction:column; position:relative; transition:opacity .2s ease, transform .2s ease}
    .card .thumb{width:100%; aspect-ratio:3/4; background:#eef2f6 center/cover no-repeat}
    .card .body{padding:14px 14px 16px}
    .badges{display:flex; gap:6px; margin-bottom:6px; flex-wrap:wrap}
    .badge{background:#eef6f2; color:#295a4a; border:1px solid #d3e7dd; padding:4px 8px; border-radius:999px; font-size:.82rem; font-weight:700}
    .card h3{margin:4px 0 6px; font-size:1.06rem}
    .meta{margin:0 0 10px; color:#506173}
    .swatches{display:flex; gap:6px; align-items:center; margin:6px 0 12px}
    .swatch{width:14px; height:14px; border-radius:50%; border:1px solid rgba(0,0,0,.15); box-shadow:inset 0 0 0 1px rgba(255,255,255,.35)}
    .card .actions{display:flex; gap:8px; flex-wrap:wrap}
    .card .btn.ghost{background:transparent; border-color:var(--accent); color:var(--accent)}
    .card:hover{box-shadow:var(--shadow-2); transform:translateY(-2px)}
    .hl{background:linear-gradient(180deg, rgba(255,242,204,.9), rgba(255,242,204,0.7)); padding:0 .15em; border-radius:4px}

    /* Quick button on card */
    .quick{position:absolute; top:10px; right:10px; background:#ffffffe6; border:1px solid #e2e8f0; border-radius:999px; padding:6px 10px; font-weight:800; font-size:.86rem; cursor:pointer; box-shadow:var(--shadow-1)}
    .quick:hover{background:#fff}

    /* ===== Modal (single system) ===== */
    .modal-backdrop{position:fixed; inset:0; background:rgba(15,23,42,.55); display:none; align-items:center; justify-content:center; z-index:2000; padding:18px}
    .modal{max-width:920px; width:min(96vw, 920px); background:#fff; border-radius:18px; box-shadow:0 30px 80px rgba(2,8,20,.28); overflow:hidden; display:grid; grid-template-columns: 1.2fr 1fr}
    .modal .left{min-height:320px; background:#f1f5f9 center/cover no-repeat}
    .modal .right{padding:18px}
    .chips{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 14px}
    .chip{border:1px dashed #d7dee8; border-radius:999px; padding:6px 10px; font-weight:700; font-size:.86rem; color:#334155; background:#f8fafc}
    .modal .badges{margin-top:4px}
    .modal .actions{margin-top:12px}
    .modal h3{margin:0 0 6px}
    .modal .meta{margin:0 0 10px}
    .modal-close{position:absolute; top:10px; right:10px; background:#ffffff; border:1px solid #e2e8f0; border-radius:999px; padding:6px 10px; font-weight:800; cursor:pointer}
    @media(max-width:860px){ .modal{grid-template-columns:1fr} .modal .left{aspect-ratio:16/9} }

    /* ===== Skeleton ===== */
    .skeleton{background:#fff; border:1px solid #e6ecf3; border-radius:var(--radius); overflow:hidden}
    .sk-thumb{width:100%; aspect-ratio:3/4; background:linear-gradient(90deg,#edf2f7 25%,#f6f8fb 37%,#edf2f7 63%); background-size:400% 100%; animation:shimmer 1.2s infinite}
    .sk-lines{padding:14px}
    .sk-line{height:12px; margin:10px 0; border-radius:8px; background:linear-gradient(90deg,#edf2f7 25%,#f6f8fb 37%,#edf2f7 63%); background-size:400% 100%; animation:shimmer 1.2s infinite}
    .sk-line.sm{width:40%} .sk-line.md{width:70%} .sk-line.lg{width:90%}
    @keyframes shimmer{0%{background-position:100% 0}100%{background-position:0 0}}

    /* ===== Empty ===== */
    .empty{display:none; text-align:center; padding:38px; color:var(--muted)}

    /* ===== Footer ===== */
    .site-footer{background:#0f172a; color:#cbd5e1; margin-top:32px}
    .site-footer a{color:#e2e8f0; text-decoration:none}
    .site-footer a:hover{color:#fff; text-decoration:underline}
    .footer-inner{max-width:var(--container); margin:0 auto; padding:38px 20px}
    .footer-grid{display:grid; gap:22px; grid-template-columns:2fr 1fr 1fr; align-items:start}
    @media(max-width:900px){ .footer-grid{grid-template-columns:1fr} }
    .footer-brand .ft-head{display:flex; align-items:center; gap:12px; margin:0 0 10px}
    .ft-logo{width:44px; height:44px; border-radius:12px; background:var(--brand); background-image:var(--logo-url); background-size:cover; background-position:center; box-shadow:0 3px 10px rgba(0,0,0,.3)}
    .ft-name{font-weight:800; color:#fff}
    .footer-title{margin:0 0 8px; color:#fff; font-weight:800; font-size:1.02rem}
    .footer-list{list-style:none; margin:8px 0 0; padding:0}
    .footer-list li{margin:6px 0; word-break:break-word}
    .footer-bottom{border-top:1px solid rgba(148,163,184,.25); margin-top:22px; padding-top:16px; display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; font-size:.92rem; color:#9fb1c6}

    @media (prefers-reduced-motion: reduce){ .slide,.btn{transition:none} }
    mark{ background:#fff4a3; color:inherit; padding:0 .2em; border-radius:.25em; box-shadow:inset 0 -1px 0 rgba(0,0,0,.05) }
    [hidden]{ display:none !important; }
  </style>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header class="site-header" role="banner" id="siteHeader">
    <div class="header-inner">
      <a class="brand" href="/" aria-label="Baume Chemical">
        <span class="brand-logo" aria-hidden="true"></span>
        <span class="brand-name">Baume Chemical</span>
      </a>
      <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
        <span class="bar" aria-hidden="true"></span>
      </button>
      <nav class="primary-nav" aria-label="Primary">
        <ul class="menu">
          <li><a href="index.html" class="nav-link">Home</a></li>
          <li><a href="about-us.html" class="nav-link">About us</a></li>
          <li><a href="products.html" class="nav-link" aria-current="page">Products</a></li>
          <li><a href="contact-us.html" class="nav-link">Contact Us</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section class="hero" aria-label="ภาพรวมผลิตภัณฑ์">
    <div class="slides" aria-hidden="true">
      <div class="slide active" style="background-image:url('https://i.imgur.com/3xwVLZZ.jpeg')"></div>
      <div class="slide" style="background-image:url('https://i.imgur.com/DzCh11Q.jpeg')"></div>
      <div class="slide" style="background-image:url('https://img2.pic.in.th/pic/thumbnail-6.jpg')"></div>
    </div>
    <div class="hero-inner container">
      <h1 data-i18n-key="hero_title">รายการผลิตภัณฑ์</h1>
      <p data-i18n-key="hero_tagline">ค้นหาตามหมวดหมู่หรือชื่อผลิตภัณฑ์ และขอใบเสนอราคาได้ทันที</p>
      <div class="actions">
        <a class="btn" href="index.html" data-i18n-key="btn_products">ดูหมวดผลิตภัณฑ์</a>
        <a class="btn ghost" href="contact-us.html" data-i18n-key="btn_consult">ปรึกษาทีมเทคนิค</a>
      </div>
    </div>

    <!-- Language FAB -->
    <div class="lang-fab" role="group" aria-label="Language switcher">
      <button class="lang-btn" data-lang="th" aria-pressed="true" title="ภาษาไทย">
        <img class="flag" src="https://flagcdn.com/24x18/th.png" srcset="https://flagcdn.com/48x36/th.png 2x" alt="TH"><span>ไทย</span>
      </button>
      <button class="lang-btn" data-lang="en" aria-pressed="false" title="English">
        <img class="flag" src="https://flagcdn.com/24x18/gb.png" srcset="https://flagcdn.com/48x36/gb.png 2x" alt="EN"><span>EN</span>
      </button>
    </div>

    <div class="dots" aria-label="สไลด์" role="tablist"></div>
  </section>

  <!-- ===== SUB-HERO ===== -->
  <section class="subhero" aria-label="สรุปหน้า">
    <div class="container">
      <h2 data-i18n-key="sub_title">รายการผลิตภัณฑ์</h2>
      <p data-i18n-key="sub_desc">กรอง/ค้นหาและเรียงลำดับ เพื่อหาหมวดที่ต้องการได้รวดเร็ว</p>
    </div>
  </section>

  <!-- ===== TOOLBAR ===== -->
  <div class="toolbar">
    <div class="toolbar-inner">
      <input id="q" class="input" type="search" placeholder="ค้นหาชื่อ/คุณสมบัติ… (เช่น nickel, passivation)">
      <select id="cat">
        <option value="">ทุกหมวดหมู่</option>
        <option value="pretreatment">Pretreatment</option>
        <option value="plating">Plating</option>
        <option value="blackening">Blackening</option>
        <option value="passivation">Passivation</option>
        <option value="strippers">Strippers</option>
        <option value="polishing">Polishing</option>
        <option value="protective">Protective</option>
        <option value="service">Service</option>
        <option value="equipment">Equipment</option>
      </select>
      <select id="sort">
        <option value="popular">เรียงตามแนะนำ</option>
        <option value="name">ชื่อ (A–Z)</option>
      </select>
      <div class="count" id="count">พบ 0 รายการ</div>
    </div>
  </div>

  <!-- ===== MAIN ===== -->
  <main class="wrap">
    <div class="grid" id="grid"></div>
    <div id="sentinel" style="height:1px"></div>
    <div id="empty" class="empty" data-i18n-key="empty">ไม่พบรายการที่ตรงเงื่อนไขการค้นหา</div>
  </main>

  <!-- ===== QUICK VIEW MODAL (single) ===== -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div class="left" id="modalImg"></div>
      <div class="right">
        <button class="modal-close" id="modalClose" aria-label="ปิด">✕</button>
        <div class="badges" id="modalBadges"></div>
        <h3 id="modalTitle"></h3>
        <p class="meta" id="modalDesc"></p>
        <div class="chips" id="modalChips"></div>
        <div class="actions" id="modalActions"></div>
      </div>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-grid">
        <section class="footer-brand">
          <div class="ft-head"><div class="ft-logo" aria-hidden="true"></div><div class="ft-name">Baume Chemical</div></div>
          <ul class="footer-list">
            <li>📍 31 ซอย เพชรเกษม 48 แยก 24 แขวง บางแวก</li>
            <li>📍 เขต ภาษีเจริญ กรุงเทพมหานคร 10160</li>
            <li>🕒 เวลาทำการ 08.00 - 17.00 น.</li>
            <li>📱 <a href="tel:+66925469887">092 546 9887</a></li>
          </ul>
        </section>
        <nav aria-label="หมวดหมู่ผลิตภัณฑ์">
          <h3 class="footer-title" data-i18n-key="footer_products">หมวดผลิตภัณฑ์</h3>
          <ul class="footer-list">
            <li><a href="https://www.baumechemical.com/products/pretreatment/">Pretreatment</a></li>
            <li><a href="https://www.baumechemical.com/products/platingcoating/">Plating</a></li>
            <li><a href="https://www.baumechemical.com/products/blackening/">Blackening</a></li>
            <li><a href="https://www.baumechemical.com/products/passivation/">Passivation</a></li>
            <li><a href="https://www.baumechemical.com/products/polishing/">Polishing</a></li>
            <li><a href="https://www.baumechemical.com/products/strippers/">Strippers</a></li>
            <li><a href="https://www.baumechemical.com/products/protective/">Protective Treatment</a></li>
            <li><a href="https://www.baumechemical.com/products/service/">Customer service</a></li>
            <li><a href="https://www.baumechemical.com/products/equipment/">Equipment</a></li>
          </ul>
        </nav>
        <section aria-label="ติดต่อเรา">
          <h3 class="footer-title" data-i18n-key="footer_contact">ติดต่อเรา</h3>
          <ul class="footer-list">
            <li>✉️ : <a href="mailto:baumechemical@gmail.com">baumechemical@gmail.com</a></li>
            <li>💬 : <a href="https://line.me/ti/p/~baumechemical" target="_blank" rel="noopener">@baumechemical</a></li>
            <li>🌐 : <a href="https://www.baumechemical.com/">baumechemical.com</a></li>
          </ul>
        </section>
      </div>
      <div class="footer-bottom"><div>© 2025 Baume Chemical. All rights reserved.</div></div>
    </div>
  </footer>

  <noscript><div style="padding:16px;text-align:center">โปรดเปิดใช้งาน JavaScript เพื่อดูเนื้อหา</div></noscript>

<script>
/* ========== DATA (สองภาษาในแต่ละการ์ด) ========== */
const PRODUCTS = [
  {
    id:"pretreatment", cat:"pretreatment", pop:1,
    name:{ th:"เคมีล้างผิวงาน | Pretreatment & Cleaning", en:"Pretreatment & Cleaning Chemicals" },
    desc:{ th:"ยาล้างไขมันแบบกรด/ด่าง และอัลตร้าโซนิค เตรียมผิวก่อนชุบ ลดคราบน้ำมัน/สนิม",
           en:"Acid/alkaline degreasers and ultrasonic cleaners. Prepare surfaces before plating; remove oils and rust." },
    tags:{ th:["pretreatment","cleaning","degreaser","ล้างไขมัน","ultrasonic","acid","alkaline"],
           en:["pretreatment","cleaning","degreaser","ultrasonic","acid","alkaline"] },
    img:"https://i.imgur.com/QfsLZ0I.jpeg",
    href:"products/pretreatment/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: เคมีล้างผิวงาน",
    tds:"https://www.baumechemical.com/docs/tds/pretreatment-cleaning.pdf",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"plating", cat:"plating", pop:2,
    name:{ th:"น้ำยาชุบโลหะ | Metal Plating Chemistry", en:"Metal Plating Chemistry" },
    desc:{ th:"เราพัฒนาสูตรสำหรับชุบซิงค์ นิกเกิล ทองแดง ทองเหลือง แลคเกอร์ไฟฟ้าและโลหะหลากชนิด",
           en:"Formulations for zinc, nickel, copper, brass, electro-lacquer and more." },
    tags:{ th:["plating","zinc","nickel","copper","brass","white bronze","ชุบโลหะ"],
           en:["plating","zinc","nickel","copper","brass","white bronze"] },
    img:"https://i.imgur.com/DzCh11Q.jpeg",
    href:"products/platingcoating/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: น้ำยาชุบโลหะ",
    tds:"https://www.baumechemical.com/docs/tds/metal-plating.pdf",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"blackening", cat:"blackening", pop:3,
    name:{ th:"น้ำยารมดำโลหะ | Blackening Solutions", en:"Blackening Solutions" },
    desc:{ th:"ผิวสวย สม่ำเสมอ ทนทาน บนชิ้นเหล็ก อลูมิเนียม ทองเหลือง ทองแดง",
           en:"Uniform, durable black finish on steel, aluminium, brass and copper." },
    tags:{ th:["blackening","black oxide","steel","brass","aluminium","รมดำ"],
           en:["blackening","black oxide","steel","brass","aluminium"] },
    img:"https://img2.pic.in.th/pic/thumbnail85e2847383c30223.jpg",
    href:"products/blackening/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: น้ำยารมดำ",
    tds:"https://www.baumechemical.com/docs/tds/blackening.pdf",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"passivation", cat:"passivation", pop:4,
    name:{ th:"โครเมตบนซิงค์ | Passivation on Zinc", en:"Passivation on Zinc (Chromate)" },
    desc:{ th:"เพิ่มความทนต่อการกัดกร่อน ทั้งโครม 3 และโครม 6",
           en:"Improve corrosion resistance; trivalent systems and hex-6-free options." },
    tags:{ th:["passivation","chromate","trivalent","hex-free","โครเมต","โครเมต 3"],
           en:["passivation","chromate","trivalent","hex-free"] },
    img:"https://img5.pic.in.th/file/secure-sv1/image36c92f06ecf965146.jpeg",
    href:"products/passivation/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: โครเมตบนซิงค์",
    tds:"https://www.baumechemical.com/docs/tds/passivation-zinc.pdf",
    specs:{ph:"—", temp:"—", current:"—"},
    swatches:["#b7d3ff","#ffe07a","#3b3b3b","#a5b38b"]
  },
  {
    id:"strippers", cat:"strippers", pop:5,
    name:{ th:"น้ำยาลอกต่างๆ | Selective Strippers", en:"Selective Strippers" },
    desc:{ th:"ลอกชั้นชุบ ออกไซด์ สี และคราบบนผิวโลหะอย่างแม่นยำ",
           en:"Selective removal of deposits, oxides, paints and residues." },
    tags:{ th:["stripper","deplate","paint remover","ลอกงาน","ลอกชุบ","ลอกสี"],
           en:["stripper","deplate","paint remover","coating remover"] },
    img:"https://img2.pic.in.th/pic/thumbnail-4.jpg",
    href:"products/strippers/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: น้ำยาลอกต่างๆ",
    tds:"https://www.baumechemical.com/docs/tds/selective-strippers.pdf",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"polishing", cat:"polishing", pop:6,
    name:{ th:"น้ำยากัดเงาบนโลหะ | Chemical Polishing", en:"Chemical Polishing" },
    desc:{ th:"ให้ผิวเงางาม สม่ำเสมอ บนชิ้นงานสแตนเลส อลูมิเนียมและเหล็ก",
           en:"Consistent bright finish on stainless steel, aluminium, and steel." },
    tags:{ th:["polishing","bright dip","electropolish","กัดเงา","ขัดเงา"],
           en:["polishing","bright dip","electropolish"] },
    img:"https://img5.pic.in.th/file/secure-sv1/thumbnail-5.jpg",
    href:"products/polishing/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: น้ำยากัดเงา",
    tds:"https://www.baumechemical.com/docs/tds/chemical-polishing.pdf",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"protective", cat:"protective", pop:7,
    name:{ th:"น้ำยารักษาผิวชุบให้คงทน | Protective Treatment", en:"Protective Treatment" },
    desc:{ th:"ช่วยคงคุณภาพผิวงานและยืดอายุการใช้งาน",
           en:"Maintain finish quality and extend service life." },
    tags:{ th:["topcoat","sealant","anti-tarnish","รักษาผิว","เคลือบผิว","ท็อปโค้ท"],
           en:["topcoat","sealant","anti-tarnish"] },
    img:"https://i.imgur.com/tP3buYl.jpeg",
    href:"products/protective/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ขอใบเสนอราคา: น้ำยารักษาผิวชุบให้คงทน",
    tds:"https://www.baumechemical.com/docs/tds/protective-treatment.pdf",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"service", cat:"service", pop:8,
    name:{ th:"งานบริการลูกค้า | On-site Technical Service", en:"On-site Technical Service" },
    desc:{ th:"ดูแลตรวจหน้างาน/แลปทดสอบน้ำยา/ที่ปรึกษากระบวนการชุบ",
           en:"On-site inspection, lab titration and process consulting." },
    tags:{ th:["service","on-site","technical","titration","QA","บริการหน้างาน","ตรวจอ่างชุบ"],
           en:["service","on-site","technical","titration","QA"] },
    img:"https://img2.pic.in.th/pic/thumbnail-6.jpg",
    href:"products/service/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=ติดต่อทีมเทคนิค: บริการหน้างาน",
    specs:{ph:"—", temp:"—", current:"—"}
  },
  {
    id:"equipment", cat:"equipment", pop:9,
    name:{ th:"วัสดุอุปกรณ์ | Equipment & Tools", en:"Equipment & Tools" },
    desc:{ th:"เครื่องมือที่เที่ยงตรงและเทคโนโลยีทันสมัยช่วยให้ได้งานชุบที่มีประสิทธิภาพมากที่สุด",
           en:"Precision instruments and modern technology for efficient plating." },
    tags:{ th:["equipment","tools","anode basket","filter","heater","อุปกรณ์","เครื่องมือ"],
           en:["equipment","tools","anode basket","filter","heater"] },
    img:"https://i.imgur.com/BiTxYRw.jpeg",
    href:"products/equipment/index.html",
    mail:"mailto:baumechemical@gmail.com?subject=สอบถามราคา: วัสดุอุปกรณ์",
    specs:{ph:"—", temp:"—", current:"—"}
  }
];

/* ========== UTIL & I18N ========== */
const $ = sel => document.querySelector(sel);
const grid = $('#grid'), countEl = $('#count'), emptyEl = $('#empty');

let currentLang = (()=>{ try{ const v = localStorage.getItem('lang'); if(v==='en'||v==='th') return v; }catch(e){} return 'th'; })();

const I18N = {
  th:{ meta_title:"ผลิตภัณฑ์เคมีงานชุบ โลหะ รมดำ พาสซิเวชัน | Baume Chemical",
       meta_desc:"เคมีงานชุบและการเตรียมผิวสำหรับอุตสาหกรรม: Pretreatment, Plating, Blackening, Passivation, Strippers, Polishing พร้อมทีมเทคนิคและบริการหน้างานครบวงจร.",
       og_title:"ผลิตภัณฑ์เคมีงานชุบ โลหะ รมดำ พาสซิเวชัน | Baume Chemical",
       og_desc:"โซลูชันเคมีงานชุบครบวงจร พร้อมคำปรึกษาและทดสอบหน้างาน",
       tw_title:"ผลิตภัณฑ์เคมีงานชุบ โลหะ รมดำ พาสซิเวชัน | Baume Chemical",
       tw_desc:"โซลูชันเคมีงานชุบครบวงจร พร้อมคำปรึกษาและทดสอบหน้างาน",
       hero_title:"รายการผลิตภัณฑ์",
       hero_tagline:"ค้นหาตามหมวดหมู่หรือชื่อผลิตภัณฑ์ และขอใบเสนอราคาได้ทันที",
       btn_products:"ดูหมวดผลิตภัณฑ์", btn_consult:"ปรึกษาทีมเทคนิค",
       sub_title:"รายการผลิตภัณฑ์", sub_desc:"กรอง/ค้นหาและเรียงลำดับ เพื่อหาหมวดที่ต้องการได้รวดเร็ว",
       footer_products:"หมวดผลิตภัณฑ์", footer_contact:"ติดต่อเรา",
       search_placeholder:"ค้นหาชื่อ/คุณสมบัติ… (เช่น nickel, passivation)",
       cat_all:"ทุกหมวดหมู่", sort_popular:"เรียงตามแนะนำ", sort_name:"ชื่อ (A–Z)",
       count:"พบ {n} รายการ", empty:"ไม่พบรายการที่ตรงเงื่อนไขการค้นหา",
       btn_details:"ดูรายละเอียด", btn_quote:"ขอใบเสนอราคา", btn_quickview:"Quick View",
       chip_temp_label:"อุณหภูมิ", chip_current_label:"ช่วงกระแส"
  },
  en:{ meta_title:"Electroplating & Surface Finishing Chemicals | Baume Chemical",
       meta_desc:"Complete solutions: Pretreatment, Plating, Blackening, Passivation, Strippers, Polishing — with on-site technical service.",
       og_title:"Products | Baume Chemical",
       og_desc:"End-to-end plating chemistry with consulting and on-site testing.",
       tw_title:"Products | Baume Chemical",
       tw_desc:"End-to-end plating chemistry with consulting and on-site testing.",
       hero_title:"Product Catalog",
       hero_tagline:"Filter by category or search by name, then request a quote instantly.",
       btn_products:"Browse Categories", btn_consult:"Talk to Technical Team",
       sub_title:"Product Catalog", sub_desc:"Filter, search and sort to find faster",
       footer_products:"Product Categories", footer_contact:"Contact Us",
       search_placeholder:"Search name/spec… (e.g., nickel, passivation)",
       cat_all:"All categories", sort_popular:"Recommended", sort_name:"Name (A–Z)",
       count:"Found {n} items", empty:"No items match your filters",
       btn_details:"Details", btn_quote:"Request Quote", btn_quickview:"Quick View",
       chip_temp_label:"Temperature", chip_current_label:"Current range"
  }
};

const t = k => (I18N[currentLang] && I18N[currentLang][k]) || k;
function escapeReg(s){ return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
function highlight(text, query){ if(!query) return text; const re = new RegExp('('+escapeReg(query)+')','ig'); return text.replace(re, '<mark>$1</mark>'); }

const nameOf = p => (p.name?.[currentLang] || p.name?.th || p.name?.en || '');
const descOf = p => (p.desc?.[currentLang] || p.desc?.th || p.desc?.en || '');
const tagsStr = p => [...(p.tags?.th||[]), ...(p.tags?.en||[])].join(' ');

/* ========== RENDER CARD (ไม่มี SDS) ========== */
function cardHTML(p, q=""){
  const sw = (p.swatches||[]).map(c=>`<span class="swatch" style="background:${c}"></span>`).join('');
  const tds = p.tds ? `<a class="btn ghost" target="_blank" rel="noopener" href="${p.tds}">TDS</a>` : '';
  return `
  <article class="card" data-id="${p.id}" data-cat="${p.cat}">
    <button class="quick" data-id="${p.id}" aria-label="${t('btn_quickview')}">${t('btn_quickview')}</button>
    <div class="thumb" style="background-image:url('${p.img}')"></div>
    <div class="body">
      <div class="badges"><span class="badge">${p.cat[0].toUpperCase()+p.cat.slice(1)}</span></div>
      <h3>${highlight(nameOf(p), q)}</h3>
      <p class="meta">${highlight(descOf(p), q)}</p>
      ${sw?`<div class="swatches" title="Chromate colour swatches">${sw}</div>`:""}
      <div class="actions">
        <a class="btn" href="${p.href}" target="_blank" rel="noopener">${t('btn_details')}</a>
        <a class="btn ghost" href="${p.mail}">${t('btn_quote')}</a>
        ${tds}
      </div>
    </div>
  </article>`;
}

/* ========== FILTER / SORT / SEARCH + INFINITE ========== */
const state = { q:"", cat:"", sort:"popular" };
const PAGE_SIZE = 6;
let viewList = [], page = 0, loading = false, loadTimer = null;

function updateCount(){ countEl.textContent = (I18N[currentLang].count||'Found {n} items').replace('{n}', viewList.length); }
function addSkeleton(n=PAGE_SIZE){
  const frag = document.createDocumentFragment();
  for(let i=0;i<n;i++){
    const sk = document.createElement('div');
    sk.className = 'skeleton';
    sk.innerHTML = `<div class="sk-thumb"></div><div class="sk-lines">
      <div class="sk-line lg"></div><div class="sk-line md"></div><div class="sk-line sm"></div></div>`;
    frag.appendChild(sk);
  }
  grid.appendChild(frag);
}
function loadMore(initial=false){
  if(loading) return;
  loading = true;

  // จำนวนสเกเลตันที่แสดง
  const remain = Math.max(0, viewList.length - page*PAGE_SIZE);
  addSkeleton(initial ? PAGE_SIZE : Math.min(PAGE_SIZE, remain));

  clearTimeout(loadTimer);
  loadTimer = setTimeout(()=>{
    const start = page*PAGE_SIZE;
    const end   = Math.min(start + PAGE_SIZE, viewList.length);
    const q     = state.q.trim();

    const html = viewList.slice(start, end).map(p=>cardHTML(p, q)).join('');
    // ลบสเกเลตันเท่าที่ใส่ไป
    [...grid.querySelectorAll('.skeleton')].slice(0, end-start).forEach(el=>el.remove());

    grid.insertAdjacentHTML('beforeend', html);
    page++;
    loading = false;
  }, 200);
}
function applyFilters(){
  // ยกเลิกงานโหลดค้าง
  clearTimeout(loadTimer);
  loadTimer = null;
  loading   = false;

  const q = state.q.trim().toLowerCase();
  const terms = q ? q.split(/\s+/).filter(Boolean) : [];

  // ---- คิดคะแนนความเกี่ยวข้องจากคำค้น ----
  const score = (p) => {
    if(!terms.length) return 0;
    const n  = (nameOf(p) || "").toLowerCase();
    const d  = (descOf(p) || "").toLowerCase();
    const tg = (tagsStr(p) || "").toLowerCase();
    let s = 0;
    for(const w of terms){
      if(!w) continue;
      if(n === w)         s += 500;
      if(n.startsWith(w)) s += 280;
      const idx = n.indexOf(w);
      if(idx >= 0)        s += 220 - idx;
      if(tg.includes(w))  s += 140;
      if(d.includes(w))   s += 80;
    }
    return s;
  };

  // ---- โหมด "คง 9 ใบไว้เสมอ" ----
  // ถ้าคุณอยากให้กรองเหลือเฉพาะหมวดจริง ๆ ให้ดูคอมเมนต์ด้านล่าง
  const base = PRODUCTS.slice();

  // enrich: ธงว่าเข้าหมวดไหม / hit คำค้นไหม / คะแนน
  const enriched = base.map(p => {
    const hay = (nameOf(p)+' '+descOf(p)+' '+tagsStr(p)).toLowerCase();
    return {
      p,
      catHit: !!state.cat && p.cat === state.cat,            // เข้าหมวดที่เลือก
      hit: terms.length ? terms.some(w => hay.includes(w)) : false, // แมตช์คำค้นไหม
      s: score(p)                                           // คะแนนความเกี่ยวข้อง
    };
  });

  // เรียง: 1) catHit ก่อน 2) ถ้ามีคำค้น → hit ก่อน 3) คะแนนมากก่อน 4) tie-break ตาม sort
  enriched.sort((A, B) => {
    if (A.catHit !== B.catHit) return (B.catHit?1:0) - (A.catHit?1:0);
    if (terms.length && A.hit !== B.hit) return (B.hit?1:0) - (A.hit?1:0);
    if (A.s !== B.s) return B.s - A.s;
    if (state.sort === "name") {
      return nameOf(A.p).localeCompare(nameOf(B.p), currentLang === 'th' ? 'th' : 'en');
    }
    return A.p.pop - B.p.pop;
  });

  // อัปเดต list + เรนเดอร์
  viewList = enriched.map(x => x.p);

  page = 0;
  grid.innerHTML = "";
  updateCount();
  if(viewList.length === 0){
    emptyEl.textContent = I18N[currentLang].empty;
    emptyEl.style.display = 'block';
    return;
  }
  emptyEl.style.display = 'none';
  loadMore(true);
}

/* ========== QUICK VIEW (ใช้ modal เดียว) ========== */
function openModal(p){
  $('#modalImg').style.backgroundImage = `url('${p.img}')`;
  $('#modalTitle').textContent = nameOf(p);
  $('#modalDesc').textContent = descOf(p);
  $('#modalBadges').innerHTML = `<span class="badge">${p.cat[0].toUpperCase()+p.cat.slice(1)}</span>`;
  const c = p.specs || {};
  $('#modalChips').innerHTML = `
    <span class="chip">pH: ${c.ph ?? '—'}</span>
    <span class="chip">${t('chip_temp_label')}: ${c.temp ?? '—'}</span>
    <span class="chip">${t('chip_current_label')}: ${c.current ?? '—'}</span>`;
  const tds = p.tds ? `<a class="btn ghost" target="_blank" rel="noopener" href="${p.tds}">TDS</a>` : '';
  $('#modalActions').innerHTML = `
    <a class="btn" target="_blank" rel="noopener" href="${p.href}">${t('btn_details')}</a>
    <a class="btn ghost" href="${p.mail}">${t('btn_quote')}</a>
    ${tds}`;
  const bd = $('#modalBackdrop'); bd.style.display='flex'; bd.setAttribute('aria-hidden','false');
}
function closeModal(){ const bd = $('#modalBackdrop'); bd.style.display='none'; bd.setAttribute('aria-hidden','true'); }
document.addEventListener('click', e=>{
  if(e.target.matches('.quick')){ const p = PRODUCTS.find(x=>x.id===e.target.dataset.id); if(p) openModal(p); }
  if(e.target.id==='modalClose' || e.target.id==='modalBackdrop') closeModal();
});
document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeModal(); });

/* ========== EVENTS + HERO + HEADER ========== */
const deb = (fn,ms=250)=>{ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a),ms);} };
$('#q').addEventListener('input', deb(e=>{ state.q=e.target.value; applyFilters(); }, 200));
$('#cat').addEventListener('change', e=>{ state.cat=e.target.value; applyFilters(); });
$('#sort').addEventListener('change', e=>{ state.sort=e.target.value; applyFilters(); });

(function(){
  const header = document.getElementById('siteHeader');
  const setH = () => { const h = header ? Math.round(header.getBoundingClientRect().height) : 64; document.documentElement.style.setProperty('--header-h', h + 'px'); };
  window.addEventListener('load', setH, {once:true}); window.addEventListener('resize', setH); setH();
  const toggle = header?.querySelector('.nav-toggle');
  if(toggle){
    toggle.addEventListener('click', function(){ const opened = header.classList.toggle('open'); toggle.setAttribute('aria-expanded', String(opened)); });
    header.querySelectorAll('.menu a').forEach(a => a.addEventListener('click', ()=>{ header.classList.remove('open'); toggle.setAttribute('aria-expanded','false'); }));
  }
})();
(function(){
  const slides = [...document.querySelectorAll('.slide')];
  const dotsWrap = document.querySelector('.dots'); if(slides.length===0 || !dotsWrap) return;
  slides.forEach((_, i)=>{ const b = document.createElement('button'); b.className='dot'; b.type='button'; b.setAttribute('aria-label', 'Slide '+(i+1)); b.addEventListener('click', ()=> go(i)); dotsWrap.appendChild(b); });
  let idx = 0, tmr = null; const dots = [...dotsWrap.children];
  function go(n){ slides[idx].classList.remove('active'); dots[idx].setAttribute('aria-current','false'); idx = (n + slides.length) % slides.length; slides[idx].classList.add('active'); dots[idx].setAttribute('aria-current','true'); }
  function tick(){ go(idx+1); }
  dots[0].setAttribute('aria-current','true'); tmr = setInterval(tick, 5200);
  const hero = document.querySelector('.hero'); hero.addEventListener('mouseenter', ()=> clearInterval(tmr)); hero.addEventListener('mouseleave', ()=> tmr = setInterval(tick, 5200));
})();

/* ========== LANGUAGE SWITCH (อัปเดตเมตาด้วย) ========== */
function applyLang(lang){
  currentLang = lang;
  document.documentElement.lang = lang;

  document.querySelectorAll('.lang-fab .lang-btn').forEach(btn => btn.setAttribute('aria-pressed', String(btn.dataset.lang === lang)));
  document.querySelectorAll('[data-i18n-key]').forEach(node => {
    const key = node.getAttribute('data-i18n-key'); const txt = I18N[lang][key]; if(txt) node.textContent = txt;
  });

  const meta = I18N[lang];
  if(meta){
    const titleEl = document.getElementById('metaTitle');
    if(titleEl){ titleEl.textContent = meta.meta_title; document.title = meta.meta_title; }
    document.getElementById('metaDesc')?.setAttribute('content', meta.meta_desc);
    document.getElementById('ogTitle')?.setAttribute('content', meta.og_title || meta.meta_title);
    document.getElementById('ogDesc')?.setAttribute('content', meta.og_desc || meta.meta_desc);
    document.getElementById('twTitle')?.setAttribute('content', meta.tw_title || meta.meta_title);
    document.getElementById('twDesc')?.setAttribute('content', meta.tw_desc || meta.meta_desc);
    document.getElementById('ogLocale')?.setAttribute('content', lang === 'en' ? 'en_US' : 'th_TH');
  }

  const qInput = document.getElementById('q'); if(qInput) qInput.setAttribute('placeholder', I18N[lang].search_placeholder);
  const allOpt = document.querySelector('#cat option[value=""]'); if(allOpt) allOpt.textContent = I18N[lang].cat_all;
  const sPop = document.querySelector('#sort option[value="popular"]'); if(sPop) sPop.textContent = I18N[lang].sort_popular;
  const sName = document.querySelector('#sort option[value="name"]'); if(sName) sName.textContent = I18N[lang].sort_name;

  emptyEl.textContent = I18N[lang].empty;
  try{ localStorage.setItem('lang', lang); }catch(e){}

  applyFilters(); // re-render การ์ดตามภาษา
}
(function initLang(){
  applyLang(currentLang);
  document.querySelectorAll('.lang-fab .lang-btn').forEach(btn=> btn.addEventListener('click', ()=> applyLang(btn.dataset.lang)));
})();

/* ========== FIRST RENDER + INFINITE SCROLL ========== */
const io = new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting && !loading){
      const hasMore = page*PAGE_SIZE < viewList.length;
      if(hasMore) loadMore();
    }
  });
}, {rootMargin:"600px 0px"});
io.observe(document.getElementById('sentinel'));
</script>
</body>
</html>
