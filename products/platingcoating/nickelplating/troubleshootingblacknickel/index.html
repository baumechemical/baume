<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title data-i18n-key="title">Black Nickel — คู่มือการชุบนิกเกิลดำ | Baume Chemical Blog</title>
  <meta name="description" content="Black Nickel ระบบเกลือนิกเกิลดำ: ภาพรวมกระบวนการ กริดคุณสมบัติหลัก สัดส่วนการผสม พารามิเตอร์ทำงาน วิธีชุบ การกรอง และคำแนะนำการใช้งาน" data-i18n-attr="content:meta_desc">
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
  <link rel="canonical" href="https://www.baumechemical.com/products/platingcoating/nickelplating/black-nickel/index.html">
  <meta name="theme-color" content="#2c5e4e">

  <!-- ==== GSC SLOT (ปลอดภัยจากสคริปต์ i18n) ====
       วางแท็กยืนยัน Search Console ที่นี่ เช่น:
       <meta name="google-site-verification" content="xxxxxxxxxxxxxxxxxxxxx">
       *สคริปต์ของหน้านี้จะไม่แก้ไขบล็อกคอมเมนต์นี้
  -->

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/android-chrome-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512.png">

  <!-- Open Graph -->
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Baume Chemical">
  <meta property="og:title" content="Black Nickel — คู่มือการชุบนิกเกิลดำ" data-i18n-attr="content:og_title">
  <meta property="og:description" content="สรุปใช้งานจริง: กริดคุณสมบัติ สัดส่วนผสม พารามิเตอร์ การกรองต่อเนื่อง และคำแนะนำวัสดุรองพื้น" data-i18n-attr="content:og_desc">
  <meta property="og:url" content="https://www.baumechemical.com/products/platingcoating/nickelplating/black-nickel/index.html">
  <meta property="og:image" content="https://i.imgur.com/IGRAqiw.jpeg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Product",
    "name": "BLACK NICKEL SALT — เกลือนิกเกิลดำ",
    "description": "เกลือนิกเกิลดำสำหรับกระบวนการชุบนิกเกิลดำ: อัตราผสม พารามิเตอร์ และคำแนะนำการใช้งาน",
    "image": "https://i.imgur.com/IGRAqiw.jpeg",
    "brand": {"@type": "Brand","name": "Baume Chemical"},
    "category": "Nickel Plating",
    "inLanguage": "th",
    "offers": {"@type": "Offer","url": "https://www.baumechemical.com/products/platingcoating/nickelplating/black-nickel/index.html","priceCurrency": "THB","price": "0.00","availability": "https://schema.org/InStock"},
    "aggregateRating": {"@type": "AggregateRating","ratingValue": "5","reviewCount": "10"}
  }
  </script>

  <!-- Fonts & Perf -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://flagcdn.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="preload" as="image" href="https://i.imgur.com/IGRAqiw.jpeg"/>

  <style>
    :root{
      --brand:#2c5e4e; --brand-2:#387b5b; --ink:#0f172a; --muted:#5b6675; --bg:#f4f6f5;
      --radius:14px; --shadow-1:0 8px 26px rgba(2,8,20,.06); --shadow-2:0 16px 40px rgba(2,8,20,.14);
      --logo-url:url('https://img2.pic.in.th/pic/Baume.jpg');
      --header-h:64px; --container:1200px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:'Noto Sans Thai',system-ui,sans-serif;color:var(--ink);background:var(--bg);line-height:1.6}

    /* ===== Header (glass) ===== */
    .site-header{position:fixed;inset:0 0 auto 0;z-index:1400;background:transparent;border-bottom:1px solid rgba(255,255,255,.14);transition:background .2s ease,backdrop-filter .2s ease,box-shadow .2s ease}
    .site-header.is-scrolled{background:rgba(15,23,42,.70);backdrop-filter:saturate(140%) blur(10px);box-shadow:0 8px 26px rgba(2,8,20,.18)}
    .nav-bar{max-width:var(--container);margin:0 auto;padding:10px 16px;display:flex;align-items:center;gap:14px;justify-content:space-between;min-height:var(--header-h)}
    .brand{display:flex;align-items:center;gap:10px;text-decoration:none}
    .brand-logo{width:42px;height:42px;border-radius:10px;background:#e8f1ec var(--logo-url) center/cover no-repeat;box-shadow:0 2px 8px rgba(2,8,20,.15)}
    .brand-name{font-weight:800;color:#fff}

    .primary-nav{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .primary-nav a{text-decoration:none;color:#fff;padding:10px 12px;border-radius:10px;font-weight:700}
    .primary-nav a:hover{background:rgba(255,255,255,.12)}
    .primary-nav a[aria-current="page"]{background:rgba(255,255,255,.18)}

    .lang-switch{display:flex;gap:6px;margin-left:auto;padding:4px;border:1px solid #e2e8f0;border-radius:999px;background:#ffffffcc;backdrop-filter: blur(8px);box-shadow:0 10px 26px rgba(2,8,20,.12)}
    .site-header.is-scrolled .lang-switch{background:#ffffffdd}
    .lang-btn{appearance:none;border:0;background:transparent;padding:6px 10px;border-radius:999px;font-weight:800;cursor:pointer;display:flex;align-items:center;gap:6px;color:#0f172a}
    .lang-btn[aria-pressed="true"]{background:var(--brand-2);color:#fff}
    .lang-btn img{width:18px;height:14px;border-radius:2px;object-fit:cover;box-shadow:0 0 0 1px rgba(0,0,0,.08)}

    .nav-toggle{display:none;width:38px;height:38px;border-radius:9px;background:transparent;cursor:pointer;border:0}
    .nav-toggle .bar{position:relative;width:22px;height:2px;background:#fff;border-radius:2px}
    .nav-toggle .bar::before,.nav-toggle .bar::after{content:"";position:absolute;left:0;right:0;height:2px;background:#fff;border-radius:2px}
    .nav-toggle .bar::before{top:-7px}.nav-toggle .bar::after{top:7px}
    .nav-toggle:focus-visible{outline:2px solid #fff;outline-offset:2px}

    @media (max-width:900px){
      .nav-toggle{display:inline-flex;align-items:center;justify-content:center}
      .primary-nav{position:fixed;left:12px;right:12px;top:calc(var(--header-h) + 8px);background:#0f172acc;border:1px solid rgba(255,255,255,.18);backdrop-filter: blur(8px);border-radius:14px;display:grid;gap:6px;padding:12px;z-index:1400;transform:translateY(-12px);opacity:0;pointer-events:none;transition:transform .2s ease,opacity .2s ease}
      .primary-nav a{color:#fff;padding:12px 10px;}
      .site-header.open .primary-nav{transform:none;opacity:1;pointer-events:auto}
      .lang-switch{width:100%;margin:6px 0 0;background:#ffffff1c;border-color:rgba(255,255,255,.35);box-shadow:none}
      .lang-btn{color:#fff}
      .lang-btn[aria-pressed="true"]{background:#ffffff;color:#0f172a}
    }

    .menu-scrim{position:fixed;inset:0;background:rgba(2,8,20,.28);z-index:1300;display:none}
    .menu-scrim:not([hidden]){display:block}
    body.no-scroll{position:fixed;width:100%}

    /* ===== Hero ===== */
    .hero{position:relative;overflow:hidden;display:grid;place-items:center;text-align:center;color:#fff;min-height:clamp(420px,60vh,620px);background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.6)),url('https://i.imgur.com/IGRAqiw.jpeg') center/cover no-repeat;padding:28px 16px;padding-top:calc(var(--header-h) + 12px)}
    .hero h1{margin:6px 0 10px;font-weight:800;font-size:clamp(26px,4.2vw,44px);text-shadow:0 6px 28px rgba(0,0,0,.45)}
    .hero p{max-width:980px;margin:0 auto;color:#e6f2ef}
    .back-chip{position:absolute;top:calc(var(--header-h) + 10px);left:16px;z-index:1;display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;font-weight:800;text-decoration:none;background:#fff;border:1px solid rgba(2,8,20,.08);color:#0f172a;box-shadow:var(--shadow-1)}
    .back-chip:hover{transform:translateY(-1px)}

    /* ===== Layout ===== */
    .wrap{max-width:var(--container);margin:auto;padding:34px 16px}
    @media (min-width:1100px){
      main.wrap{display:grid;grid-template-columns:300px minmax(0,1fr);gap:20px;align-items:start}
      #toc{grid-column:1;position:sticky;top:calc(var(--header-h) + 10px)}
      article{grid-column:2}
    }

    /* ===== TOC card ===== */
    #toc{background:#fff;border:1px solid #e3ece5;border-radius:16px;padding:14px 16px;box-shadow:var(--shadow-1)}
    #toc h2.section{font-size:1rem;margin:0 0 6px;display:flex;align-items:center;gap:10px}
    #toc p{display:grid;gap:8px;margin:10px 0 0}
    .toc-chip{display:flex;align-items:center;justify-content:space-between;width:100%;padding:10px 12px;border-radius:10px;background:#ecf4ef;border:1px solid #d8e7dd;color:#1f2a24;text-decoration:none;font-weight:800}
    .toc-chip::after{content:"›";opacity:.5}
    .toc-chip[aria-current="true"],.toc-chip.is-active{background:var(--brand-2);color:#fff;border-color:transparent;box-shadow:0 6px 16px rgba(2,8,20,.12)}

    /* ===== Section card ===== */
    section.section-block{background:#fff;border:1px solid #e3ece5;border-radius:16px;padding:18px 16px;box-shadow:var(--shadow-1);position:relative;overflow:hidden;margin-bottom:16px}
    section.section-block::after{content:"";position:absolute;left:0;right:0;bottom:0;height:4px;background:linear-gradient(90deg,var(--brand-2),#59a286,#9bd4b9);opacity:.85}
    h2.section{margin:0 0 8px;font-size:clamp(22px,2.6vw,30px);font-weight:800;color:#1f2a24;display:flex;align-items:center;gap:10px;position:relative}
    .lead{margin:0 0 14px;color:#5f6d7c}
    .content p{margin:0 0 10px}
    .content ul{margin:0 0 8px 18px}

    /* ===== Table ===== */
    .table table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid #e3ece5;border-radius:12px;overflow:hidden}
    .table thead th{background:linear-gradient(180deg,#f6fbf8,#eef6f1);position:sticky;top:0;z-index:1}
    .table th,.table td{padding:12px 10px;border-bottom:1px solid #e9f0ea;vertical-align:top}
    .table tbody tr:nth-child(2n){background:#fbfdfc}
    .table tbody tr:hover{background:#f6fbf8}

    /* ===== Features grid ===== */
    .features{margin:14px 0 4px}
    .features__grid{
      display:grid;gap:12px;
      grid-template-columns:repeat(3,minmax(0,1fr));
    }
    @media(max-width:1100px){.features__grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(max-width:640px){.features__grid{grid-template-columns:1fr}}
    .features__item{
      display:grid;grid-template-columns:42px 1fr;gap:10px;
      padding:12px;border:1px solid #e3ece5;border-radius:12px;background:#fbfdfc;box-shadow:var(--shadow-1)
    }
    .features__icon{
      width:42px;height:42px;border-radius:10px;display:grid;place-items:center;
      background:#ecf4ef;border:1px solid #d8e7dd;font-size:20px
    }
    .features__title{margin:0;font-weight:800;color:#1f2a24}
    .features__desc{margin:4px 0 0;color:#5f6d7c}

    /* ===== Footer base (in PART 2) ===== */
    .site-footer{background:#0f172a;color:#cbd5e1;margin-top:24px}
    .site-footer a{color:#e2e8f0;text-decoration:none}
    .site-footer a:hover{color:#fff;text-decoration:underline}
    .footer-inner{max-width:var(--container);margin:0 auto;padding:38px 20px}
    .footer-grid{display:grid;gap:22px;grid-template-columns:2fr 1fr 1fr}
    @media(max-width:900px){.footer-grid{grid-template-columns:1fr}}
    .footer-brand .ft-head{display:flex;align-items:center;gap:12px;margin:0 0 10px}
    .ft-logo{width:44px;height:44px;border-radius:10px;background:#2c5e4e var(--logo-url) center/cover no-repeat;box-shadow:0 3px 10px rgba(0,0,0,.3)}
    .ft-name{font-weight:800;color:#fff}
    .footer-title{margin:0 0 8px;color:#fff;font-weight:800;font-size:1.02rem}
    .footer-list{list-style:none;margin:8px 0 0;padding:0}
    .footer-list li{margin:6px 0}
    .footer-bottom{border-top:1px solid rgba(148,163,184,.25);margin-top:22px;padding-top:16px;display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap;font-size:.92rem;color:#9fb1c6}

    /* Reveal */
    .reveal{opacity:0;transform:translateY(14px);transition:opacity .5s ease,transform .5s ease}
    .reveal.show{opacity:1;transform:none}

    /* Utils */
    html{scroll-behavior:smooth}
    .section-block{scroll-margin-top:calc(var(--header-h) + 18px)}

    /* === Shift TOC left on desktop === */
:root{ --toc-shift: -14px; } /* ปรับเป็น -8 / -12 / -20 ได้ตามใจ */

/* === FIX PACK (TOC + Feature grid) === */

/* 1) TOC: ชิดขอบซ้ายของ viewport จริง (desktop) */
@media (min-width:1100px){
  main.wrap #toc{
    /* ดึงการ์ดสารบัญไปจนชิดซ้ายของจอ:
       (ส่วนเกินนอก container) + (padding ซ้ายของ .wrap 16px) */
    margin-left: calc( (100vw - var(--container)) / -2 - 16px ) !important;
  }
}

/* 2) Feature grid: บังคับ 3 คอลัมน์ทุกขนาดจอ */
#intro .features .features__grid{
  display: grid !important;
  grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  gap: 12px !important;
}
/* กันเนื้อหาดันคอลัมน์ให้แตก */
#intro .features__item{ min-width:0; }
#intro .features__title, 
#intro .features__desc{ overflow-wrap:anywhere; }

/* (ฆ่า media queries เดิมที่ทำให้หดเหลือ 2/1 คอลัมน์) */
@media (max-width:1100px){ 
  #intro .features .features__grid{
    grid-template-columns: repeat(3, minmax(0,1fr)) !important;
  }
}
@media (max-width:640px){
  #intro .features .features__grid{
    grid-template-columns: repeat(3, minmax(0,1fr)) !important;
  }
}


  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header" id="siteHeader" role="banner" aria-label="Site header">
    <div class="nav-bar">
      <a class="brand" href="https://www.baumechemical.com/" aria-label="Baume Chemical Home">
        <span class="brand-logo" aria-hidden="true"></span>
        <span class="brand-name">Baume Chemical</span>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav" aria-label="เปิดเมนู">
        <span class="bar"></span>
      </button>

      <nav id="primary-nav" class="primary-nav" aria-label="Primary" aria-hidden="true">
        <a href="https://www.baumechemical.com/index.html" data-i18n-key="nav_home">Home</a>
        <a href="https://www.baumechemical.com/about-us.html" data-i18n-key="nav_about">About us</a>
        <a href="https://www.baumechemical.com/products.html" data-i18n-key="nav_products">Products</a>
        <a href="https://www.baumechemical.com/contact-us.html" data-i18n-key="nav_contact">Contact Us</a>
        <a href="https://www.baumechemical.com/blog/" data-i18n-key="nav_blog" aria-current="page">Blog</a>

        <div class="lang-switch" role="group" aria-label="Language switcher">
          <button class="lang-btn" data-lang="th" aria-pressed="true" title="ภาษาไทย">
            <img src="https://flagcdn.com/24x18/th.png" srcset="https://flagcdn.com/48x36/th.png 2x" alt="TH"><span>ไทย</span>
          </button>
          <button class="lang-btn" data-lang="en" aria-pressed="false" title="English">
            <img src="https://flagcdn.com/24x18/gb.png" srcset="https://flagcdn.com/48x36/gb.png 2x" alt="EN"><span>EN</span>
          </button>
        </div>
      </nav>
    </div>
  </header>
  <div class="menu-scrim" hidden></div>

  <!-- Hero -->
  <header class="hero">
    <a class="back-chip" href="https://www.baumechemical.com/" data-i18n-key="back_home">← กลับเมนูหลัก</a>
    <div class="wrap" style="display:block; padding:28px 16px; max-width:1200px; margin:auto">
      <h1 data-i18n-key="hero_title">BLACK NICKEL SALT: เกลือนิกเกิลดำ</h1>
      <p data-i18n-key="hero_tagline">ภาพรวมกระบวนการ กริดคุณสมบัติหลัก สัดส่วนการผสม พารามิเตอร์ทำงาน วิธีชุบ และคำแนะนำการใช้งาน</p>
    </div>
  </header>

  <main class="wrap">
    <!-- TOC -->
    <nav id="toc" class="reveal" aria-label="สารบัญ">
      <h2 class="section" data-i18n-key="toc_title">สารบัญ</h2>
      <p>
        <a class="toc-chip" href="#intro" data-i18n-key="toc_intro">ภาพรวมผลิตภัณฑ์</a>
        <a class="toc-chip" href="#makeup" data-i18n-key="toc_makeup">ส่วนที่ 1: การเตรียมสารละลาย</a>
        <a class="toc-chip" href="#process" data-i18n-key="toc_process">ส่วนที่ 2: ขั้นตอนการชุบ</a>
        <a class="toc-chip" href="#conditions" data-i18n-key="toc_conditions">สภาพการทำงาน อัตราผสม & อุปกรณ์</a>
      </p>
    </nav>

    <article>

      <!-- Intro + Feature grid -->
      <section id="intro" class="reveal section-block" aria-labelledby="intro-h">
        <h2 id="intro-h" class="section" data-i18n-key="intro_h">ภาพรวมผลิตภัณฑ์</h2>
        <div class="content">
          <p data-i18n-key="intro_p1">
            การชุบนิกเกิลดำเป็นกระบวนการไฟฟ้าเคมีที่ให้โทนสีดำตั้งแต่ดำอมเทาจนถึงดำสนิท
            สีเกิดจากสารประกอบของนิกเกิลร่วมกับสังกะสี ซัลเฟอร์ และ/หรือออกไซด์
            ระบบ BLACK NICKEL SALT ใช้ผสมบ่อให้ได้ผิวดำเงาสม่ำเสมอ เหมาะงานกล้อง จิวเวลรี่ อิเล็กทรอนิกส์ และงานตกแต่งโลหะ
          </p>

          <!-- Feature grid -->
          <div class="features" aria-label="กริดคุณสมบัติหลัก">
            <div class="features__grid"
     style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr)) !important;">
              <article class="features__item">
                <div class="features__icon" aria-hidden="true">🖤</div>
                <h3 class="features__title" data-i18n-key="feat_tone_t">โทนดำปรับได้</h3>
                <p class="features__desc" data-i18n-key="feat_tone_d">ตั้งแต่ดำอมเทาถึงดำสนิท ปรับด้วยพารามิเตอร์และสภาวะบ่อ</p>
              </article>

              <article class="features__item">
                <div class="features__icon" aria-hidden="true">🙈</div>
                <h3 class="features__title" data-i18n-key="feat_lowref_t">ลดแสงสะท้อน</h3>
                <p class="features__desc" data-i18n-key="feat_lowref_d">ผิวด้านช่วยลดแสงสะท้อน เหมาะชิ้นส่วนกล้อง/เครื่องมือแพทย์</p>
              </article>

              <article class="features__item">
                <div class="features__icon" aria-hidden="true">🧩</div>
                <h3 class="features__title" data-i18n-key="feat_throw_t">ครอบคลุมซอกลึก</h3>
                <p class="features__desc" data-i18n-key="feat_throw_d">เหมาะชิ้นงานซับซ้อน ทั้งถังแขวนและถังกลิ้ง</p>
              </article>

              <article class="features__item">
                <div class="features__icon" aria-hidden="true">🛡️</div>
                <h3 class="features__title" data-i18n-key="feat_dura_t">ทนทานระดับหนึ่ง</h3>
                <p class="features__desc" data-i18n-key="feat_dura_d">เพิ่มความทนต่อการกัดกร่อน/เสียดสี ควรเลือกชั้นรองพื้นที่เหมาะกับวัสดุ</p>
              </article>

              <article class="features__item">
                <div class="features__icon" aria-hidden="true">⚙️</div>
                <h3 class="features__title" data-i18n-key="feat_window_t">หน้าต่างปฏิบัติการกว้าง</h3>
                <p class="features__desc" data-i18n-key="feat_window_d">ทำงานได้ในช่วง 30–50 °C, pH 5.2–5.8, 0.1–1.0 A/dm²</p>
              </article>

              <article class="features__item">
                <div class="features__icon" aria-hidden="true">🧪</div>
                <h3 class="features__title" data-i18n-key="feat_consis_t">ความสม่ำเสมอของฟิล์ม</h3>
                <p class="features__desc" data-i18n-key="feat_consis_d">กรองหมุนเวียนต่อเนื่องเพื่อผิวดำเรียบและโทนคงที่</p>
              </article>
            </div>
          </div>
        </div>
      </section>
      <!-- Make-up -->
      <section id="makeup" class="reveal section-block" aria-labelledby="makeup-h">
        <h2 id="makeup-h" class="section" data-i18n-key="makeup_h">ส่วนที่ 1: การเตรียมสารละลาย</h2>

        <p class="lead" data-i18n-key="ratio_h">สัดส่วนแนะนำ (Black Nickel Bath)</p>
        <div class="table">
          <table>
            <thead>
              <tr>
                <th data-i18n-key="ratio_th_comp">พารามิเตอร์</th>
                <th data-i18n-key="ratio_th_range">ช่วง</th>
                <th data-i18n-key="ratio_th_typ">ค่ากลาง</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td data-i18n-key="ratio_c1">BLACK NICKEL SALT</td>
                <td data-i18n-key="ratio_c1_range">120–150 g/L</td>
                <td data-i18n-key="ratio_c1_typ">150 g/L</td>
              </tr>
              <tr>
                <td data-i18n-key="ratio_c2">อุณหภูมิ</td>
                <td data-i18n-key="ratio_c2_range">30–50 °C</td>
                <td data-i18n-key="ratio_c2_typ">40 °C</td>
              </tr>
              <tr>
                <td data-i18n-key="ratio_c3">pH</td>
                <td data-i18n-key="ratio_c3_range">5.2–5.8</td>
                <td data-i18n-key="ratio_c3_typ">5.5</td>
              </tr>
              <tr>
                <td data-i18n-key="ratio_c4">ขั้วแอโนด</td>
                <td data-i18n-key="ratio_c4_range">นิกเกิลแผ่น/นิกเกิลเม็ด</td>
                <td data-i18n-key="ratio_c4_typ">—</td>
              </tr>
              <tr>
                <td data-i18n-key="ratio_c5">แรงดันไฟ (V)</td>
                <td data-i18n-key="ratio_c5_range">1.0–2.0 V</td>
                <td data-i18n-key="ratio_c5_typ">—</td>
              </tr>
              <tr>
                <td data-i18n-key="ratio_c6">ความหนาแน่นกระแส</td>
                <td data-i18n-key="ratio_c6_range">0.1–1.0 A/dm²</td>
                <td data-i18n-key="ratio_c6_typ">—</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p class="lead" data-i18n-key="mix_examples_h">ตัวอย่างการผสมน้ำยา</p>
        <div class="table">
          <table>
            <thead>
              <tr>
                <th data-i18n-key="mix_vol">ปริมาตร</th>
                <th data-i18n-key="mix_salt">เกลือนิกเกิลดำ</th>
                <th data-i18n-key="mix_water">น้ำกลั่น</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>100 L</td><td>15 kg</td><td data-i18n-key="mix_fill">จนครบ 100 L</td></tr>
              <tr><td>400 L</td><td>60 kg</td><td data-i18n-key="mix_fill_400">จนครบ 400 L</td></tr>
              <tr><td>1000 L</td><td>150 kg</td><td data-i18n-key="mix_fill_1000">จนครบ 1000 L</td></tr>
            </tbody>
          </table>
        </div>

        <div class="content">
          <ul>
            <li data-i18n-key="make_s1">เติมน้ำ ~2/3 ถัง</li>
            <li data-i18n-key="make_s2">ละลาย BLACK NICKEL SALT ในน้ำอุ่นจนหมด</li>
            <li data-i18n-key="make_s3">เทลงถังหลัก → เติมน้ำให้ครบปริมาตร</li>
            <li data-i18n-key="make_s4">กรองหมุนเวียนต่อเนื่องด้วยไส้กรอง ~10 µm</li>
          </ul>
          <p><strong>ℹ️</strong> <span data-i18n-key="make_note_filter">ควรกรองต่อเนื่องเพื่อความสม่ำเสมอของโทนสีและชั้นเคลือบ</span></p>
        </div>
      </section>

      <!-- Process -->
      <section id="process" class="reveal section-block" aria-labelledby="process-h">
        <h2 id="process-h" class="section" data-i18n-key="process_h">ส่วนที่ 2: ขั้นตอนการชุบ</h2>
        <div class="content">
          <ul>
            <li data-i18n-key="proc_1">เตรียมผิว: ล้างด่าง → ล้างน้ำ → Activate กรดอ่อน → ล้างน้ำ</li>
            <li data-i18n-key="proc_2">ทองเหลือง/ทองแดง: ลงนิกเกิลดำได้โดยตรง</li>
            <li data-i18n-key="proc_3">เหล็ก: ควรมีชั้นนิกเกิลเงารองพื้นก่อน เพื่อให้ดำติดสวยและสม่ำเสมอ</li>
            <li data-i18n-key="proc_4">ตั้งพารามิเตอร์ตามตาราง (อุณหภูมิ, pH, V, A/dm²) และควบคุมการกวน/กรองต่อเนื่อง</li>
            <li data-i18n-key="proc_5">ล้างน้ำ 2–3 ขั้น แล้วอบแห้ง/เป่าแห้ง</li>
          </ul>
          <p><strong>🧯 PPE:</strong> <span data-i18n-key="ppe_note">สวมถุงมือ แว่นตานิรภัย และหน้ากาก ระหว่างการผสม/ชุบ</span></p>
        </div>
      </section>

      <!-- Conditions & Equipment -->
      <section id="conditions" class="reveal section-block" aria-labelledby="cond-h">
        <h2 id="cond-h" class="section" data-i18n-key="cond_h">สภาพการทำงาน อัตราผสม & อุปกรณ์</h2>

        <p class="lead" data-i18n-key="cond_params_h">สรุปคุณสมบัติและการใช้งาน</p>
        <div class="content">
          <ul>
            <li data-i18n-key="prop_beauty">ความสวยงาม: ผิวดำหรูหรา ทันสมัย</li>
            <li data-i18n-key="prop_anti_reflect">ลดแสงสะท้อน: ผิวด้านเหมาะกับชิ้นส่วนกล้อง/เครื่องมือแพทย์</li>
            <li data-i18n-key="prop_durability">ความทนทาน: เพิ่มความทนกัดกร่อน/การเสียดสีระดับหนึ่ง</li>
            <li data-i18n-key="prop_usecases">การใช้งาน: เครื่องประดับ ของตกแต่ง/เครื่องใช้ไฟฟ้า ยานยนต์ และเครื่องมืออุตสาหกรรม</li>
          </ul>
        </div>

        <p class="lead" data-i18n-key="equip_h">อุปกรณ์ที่จำเป็น</p>
        <div class="content">
          <ul>
            <li data-i18n-key="equip_1">บ่อชุบ: บุ PVC, PE, หรือ PP</li>
            <li data-i18n-key="equip_2">เครื่องกรอง: หมุนเวียนต่อเนื่อง ไส้กรอง ~10 µm</li>
            <li data-i18n-key="equip_3">ระบบควบคุมอุณหภูมิ: 30–50 °C</li>
            <li data-i18n-key="equip_4">ระบบกวน: แกว่งชิ้นงาน/ก๊าซ/ของเหลวตามเหมาะสม</li>
          </ul>
        </div>

        <p class="lead" data-i18n-key="maint_h">การปรับเติมและควบคุม</p>
        <div class="content">
          <ul>
            <li data-i18n-key="maint_be">ติดตามค่าโบเม่ (~9–10) เพื่อประเมินความเข้มข้น</li>
            <li data-i18n-key="maint_hull">ใช้ Hull-cell ตรวจสอบโทนและความสม่ำเสมอ และเติมตามคู่มือ</li>
          </ul>
        </div>
      </section>

    </article>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-grid">
        <section class="footer-brand">
          <div class="ft-head"><div class="ft-logo"></div><div class="ft-name">Baume Chemical</div></div>
          <ul class="footer-list">
            <li>📍 31 ซอย เพชรเกษม 48 แยก 24 แขวง บางแวก</li>
            <li>📍 เขต ภาษีเจริญ กรุงเทพมหานคร 10160</li>
            <li>🕒 เวลาทำการ 08.00 - 17.00 น.</li>
            <li>📱 <a href="tel:+66925469887">092 546 9887</a></li>
          </ul>
        </section>

        <nav aria-label="หมวดหมู่ผลิตภัณฑ์">
          <h3 class="footer-title" data-i18n-key="footer_products">หมวดผลิตภัณฑ์</h3>
          <ul class="footer-list">
            <li><a href="https://www.baumechemical.com/products/pretreatment/">Pretreatment</a></li>
            <li><a href="https://www.baumechemical.com/products/platingcoating/">Plating</a></li>
            <li><a href="https://www.baumechemical.com/products/blackening/">Blackening</a></li>
            <li><a href="https://www.baumechemical.com/products/passivation/">Passivation</a></li>
            <li><a href="https://www.baumechemical.com/products/polishing/">Polishing</a></li>
            <li><a href="https://www.baumechemical.com/products/strippers/">Strippers</a></li>
            <li><a href="https://www.baumechemical.com/products/protective/">Protective Treatment</a></li>
            <li><a href="https://www.baumechemical.com/products/equipment/">Equipment</a></li>
          </ul>
        </nav>

        <section aria-label="ติดต่อเรา">
          <h3 class="footer-title" data-i18n-key="footer_contact">ติดต่อเรา</h3>
          <ul class="footer-list">
            <li>✉️ : <a href="mailto:contact@baumechemical.com">contact@baumechemical.com</a></li>
            <li>💬 : <a href="https://line.me/ti/p/~baumechemical" target="_blank" rel="noopener">@baumechemical</a></li>
            <li>🌐 : <a href="https://www.baumechemical.com/">baumechemical.com</a></li>
          </ul>
        </section>
      </div>
      <div class="footer-bottom"><div data-i18n-key="footer_copy">© 2025 Baume Chemical. All rights reserved.</div></div>
    </div>
  </footer>

  <!-- Reveal on scroll -->
  <script>
    const revealEls = document.querySelectorAll('.reveal');
    const revObs = new IntersectionObserver((entries,obs)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); obs.unobserve(e.target);} });
    }, {threshold:.18});
    revealEls.forEach(el=>revObs.observe(el));
  </script>

  <!-- I18N + Lang switch (updates <title> and meta via data-i18n-attr) -->
  <script>
    const I18N = {
      th: {
        title:"Black Nickel — คู่มือการชุบนิกเกิลดำ | Baume Chemical Blog",
        meta_desc:"Black Nickel ระบบเกลือนิกเกิลดำ: ภาพรวมกระบวนการ กริดคุณสมบัติหลัก สัดส่วนการผสม พารามิเตอร์ทำงาน วิธีชุบ การกรอง และคำแนะนำการใช้งาน",
        og_title:"Black Nickel — คู่มือการชุบนิกเกิลดำ",
        og_desc:"สรุปใช้งานจริง: กริดคุณสมบัติ สัดส่วนผสม พารามิเตอร์ การกรองต่อเนื่อง และคำแนะนำวัสดุรองพื้น",
        nav_home:"Home", nav_about:"About us", nav_products:"Products", nav_contact:"Contact Us", nav_blog:"Blog",
        back_home:"← กลับเมนูหลัก",
        hero_title:"BLACK NICKEL SALT: เกลือนิกเกิลดำ",
        hero_tagline:"ภาพรวมกระบวนการ กริดคุณสมบัติหลัก สัดส่วนการผสม พารามิเตอร์ทำงาน วิธีชุบ และคำแนะนำการใช้งาน",

        toc_title:"สารบัญ", toc_intro:"ภาพรวมผลิตภัณฑ์", toc_makeup:"ส่วนที่ 1: การเตรียมสารละลาย", toc_process:"ส่วนที่ 2: ขั้นตอนการชุบ", toc_conditions:"สภาพการทำงาน อัตราผสม & อุปกรณ์",

        intro_h:"ภาพรวมผลิตภัณฑ์",
        intro_p1:"การชุบนิกเกิลดำเป็นกระบวนการไฟฟ้าเคมีที่ให้โทนสีดำตั้งแต่ดำอมเทาจนถึงดำสนิท สีเกิดจากสารประกอบของนิกเกิลร่วมกับสังกะสี ซัลเฟอร์ และ/หรือออกไซด์ ระบบ BLACK NICKEL SALT ใช้ผสมบ่อให้ได้ผิวดำเงาสม่ำเสมอ เหมาะงานกล้อง จิวเวลรี่ อิเล็กทรอนิกส์ และงานตกแต่งโลหะ",

        feat_tone_t:"โทนดำปรับได้",
        feat_tone_d:"ตั้งแต่ดำอมเทาถึงดำสนิท ปรับด้วยพารามิเตอร์และสภาวะบ่อ",
        feat_lowref_t:"ลดแสงสะท้อน",
        feat_lowref_d:"ผิวด้านช่วยลดแสงสะท้อน เหมาะชิ้นส่วนกล้อง/เครื่องมือแพทย์",
        feat_throw_t:"ครอบคลุมซอกลึก",
        feat_throw_d:"เหมาะชิ้นงานซับซ้อน ทั้งถังแขวนและถังกลิ้ง",
        feat_dura_t:"ทนทานระดับหนึ่ง",
        feat_dura_d:"เพิ่มความทนต่อการกัดกร่อน/เสียดสี ควรเลือกชั้นรองพื้นที่เหมาะกับวัสดุ",
        feat_window_t:"หน้าต่างปฏิบัติการกว้าง",
        feat_window_d:"ทำงานได้ในช่วง 30–50 °C, pH 5.2–5.8, 0.1–1.0 A/dm²",
        feat_consis_t:"ความสม่ำเสมอของฟิล์ม",
        feat_consis_d:"กรองหมุนเวียนต่อเนื่องเพื่อผิวดำเรียบและโทนคงที่",

        makeup_h:"ส่วนที่ 1: การเตรียมสารละลาย",
        ratio_h:"สัดส่วนแนะนำ (Black Nickel Bath)",
        ratio_th_comp:"พารามิเตอร์", ratio_th_range:"ช่วง", ratio_th_typ:"ค่ากลาง",
        ratio_c1:"BLACK NICKEL SALT", ratio_c1_range:"120–150 g/L", ratio_c1_typ:"150 g/L",
        ratio_c2:"อุณหภูมิ", ratio_c2_range:"30–50 °C", ratio_c2_typ:"40 °C",
        ratio_c3:"pH", ratio_c3_range:"5.2–5.8", ratio_c3_typ:"5.5",
        ratio_c4:"ขั้วแอโนด", ratio_c4_range:"นิกเกิลแผ่น/นิกเกิลเม็ด", ratio_c4_typ:"—",
        ratio_c5:"แรงดันไฟ (V)", ratio_c5_range:"1.0–2.0 V", ratio_c5_typ:"—",
        ratio_c6:"ความหนาแน่นกระแส", ratio_c6_range:"0.1–1.0 A/dm²", ratio_c6_typ:"—",

        mix_examples_h:"ตัวอย่างการผสมน้ำยา",
        mix_vol:"ปริมาตร", mix_salt:"เกลือนิกเกิลดำ", mix_water:"น้ำกลั่น",
        mix_fill:"จนครบ 100 L", mix_fill_400:"จนครบ 400 L", mix_fill_1000:"จนครบ 1000 L",
        make_s1:"เติมน้ำ ~2/3 ถัง",
        make_s2:"ละลาย BLACK NICKEL SALT ในน้ำอุ่นจนหมด",
        make_s3:"เทลงถังหลัก → เติมน้ำให้ครบปริมาตร",
        make_s4:"กรองหมุนเวียนต่อเนื่องด้วยไส้กรอง ~10 µm",
        make_note_filter:"ควรกรองต่อเนื่องเพื่อความสม่ำเสมอของโทนสีและชั้นเคลือบ",

        process_h:"ส่วนที่ 2: ขั้นตอนการชุบ",
        proc_1:"เตรียมผิว: ล้างด่าง → ล้างน้ำ → Activate กรดอ่อน → ล้างน้ำ",
        proc_2:"ทองเหลือง/ทองแดง: ลงนิกเกิลดำได้โดยตรง",
        proc_3:"เหล็ก: ควรมีชั้นนิกเกิลเงารองพื้นก่อน เพื่อให้ดำติดสวยและสม่ำเสมอ",
        proc_4:"ตั้งพารามิเตอร์ตามตาราง (อุณหภูมิ, pH, V, A/dm²) และควบคุมการกวน/กรองต่อเนื่อง",
        proc_5:"ล้างน้ำ 2–3 ขั้น แล้วอบแห้ง/เป่าแห้ง",
        ppe_note:"สวมถุงมือ แว่นตานิรภัย และหน้ากาก ระหว่างการผสม/ชุบ",

        cond_h:"สภาพการทำงาน อัตราผสม & อุปกรณ์",
        cond_params_h:"สรุปคุณสมบัติและการใช้งาน",
        prop_beauty:"ความสวยงาม: ผิวดำหรูหรา ทันสมัย",
        prop_anti_reflect:"ลดแสงสะท้อน: ผิวด้านเหมาะกับชิ้นส่วนกล้อง/เครื่องมือแพทย์",
        prop_durability:"ความทนทาน: เพิ่มความทนกัดกร่อน/การเสียดสีระดับหนึ่ง",
        prop_usecases:"การใช้งาน: เครื่องประดับ ของตกแต่ง/เครื่องใช้ไฟฟ้า ยานยนต์ และเครื่องมืออุตสาหกรรม",

        equip_h:"อุปกรณ์ที่จำเป็น",
        equip_1:"บ่อชุบ: บุ PVC, PE, หรือ PP",
        equip_2:"เครื่องกรอง: หมุนเวียนต่อเนื่อง ไส้กรอง ~10 µm",
        equip_3:"ระบบควบคุมอุณหภูมิ: 30–50 °C",
        equip_4:"ระบบกวน: แกว่งชิ้นงาน/ก๊าซ/ของเหลวตามเหมาะสม",

        maint_h:"การปรับเติมและควบคุม",
        maint_be:"ติดตามค่าโบเม่ (~9–10) เพื่อประเมินความเข้มข้น",
        maint_hull:"ใช้ Hull-cell ตรวจสอบโทนและความสม่ำเสมอ และเติมตามคู่มือ",

        footer_products:"หมวดผลิตภัณฑ์", footer_contact:"ติดต่อเรา", footer_copy:"© 2025 Baume Chemical. All rights reserved."
      },

      en: {
        title:"Black Nickel — Plating Guide | Baume Chemical Blog",
        meta_desc:"Black Nickel salt system: process overview, feature grid, make-up ratios, operating parameters, filtration, and usage guidance.",
        og_title:"Black Nickel — Plating Guide",
        og_desc:"Practical summary: feature highlights, composition, parameters, continuous filtration, and substrate undercoat notes.",
        nav_home:"Home", nav_about:"About us", nav_products:"Products", nav_contact:"Contact Us", nav_blog:"Blog",
        back_home:"← Back to Home",
        hero_title:"BLACK NICKEL SALT: Black Nickel Plating",
        hero_tagline:"Process overview, feature grid, make-up ratios, operating window, plating steps, and usage guidance.",

        toc_title:"Contents", toc_intro:"Product overview", toc_makeup:"Part 1: Make-up", toc_process:"Part 2: Plating steps", toc_conditions:"Operating window, mix & equipment",

        intro_h:"Product overview",
        intro_p1:"Black nickel plating yields dark tones from gray-black to deep black via compounds of nickel with zinc, sulfur and/or oxides. BLACK NICKEL SALT is used to formulate a uniform glossy black suitable for cameras, jewelry, electronics and decorative metal.",

        feat_tone_t:"Adjustable black tones",
        feat_tone_d:"From gray-black to deep black via parameter control",
        feat_lowref_t:"Low reflectance",
        feat_lowref_d:"Matte finish reduces glare for optics/medical parts",
        feat_throw_t:"Deep-recess coverage",
        feat_throw_d:"Great for complex parts in rack or barrel",
        feat_dura_t:"Durability (moderate)",
        feat_dura_d:"Improves corrosion/wear resistance; choose proper undercoats",
        feat_window_t:"Wide operating window",
        feat_window_d:"Works at 30–50 °C, pH 5.2–5.8, 0.1–1.0 A/dm²",
        feat_consis_t:"Film consistency",
        feat_consis_d:"Continuous filtration for steady tone and smoothness",

        makeup_h:"Part 1: Make-up",
        ratio_h:"Recommended (Black Nickel Bath)",
        ratio_th_comp:"Parameter", ratio_th_range:"Range", ratio_th_typ:"Typical",
        ratio_c1:"BLACK NICKEL SALT", ratio_c1_range:"120–150 g/L", ratio_c1_typ:"150 g/L",
        ratio_c2:"Temperature", ratio_c2_range:"30–50 °C", ratio_c2_typ:"40 °C",
        ratio_c3:"pH", ratio_c3_range:"5.2–5.8", ratio_c3_typ:"5.5",
        ratio_c4:"Anode", ratio_c4_range:"Nickel sheet/rounds", ratio_c4_typ:"—",
        ratio_c5:"Voltage (V)", ratio_c5_range:"1.0–2.0 V", ratio_c5_typ:"—",
        ratio_c6:"Current density", ratio_c6_range:"0.1–1.0 A/dm²", ratio_c6_typ:"—",

        mix_examples_h:"Make-up examples",
        mix_vol:"Volume", mix_salt:"Black nickel salt", mix_water:"DI water",
        mix_fill:"Top to 100 L", mix_fill_400:"Top to 400 L", mix_fill_1000:"Top to 1000 L",
        make_s1:"Charge ~2/3 tank with water",
        make_s2:"Dissolve BLACK NICKEL SALT in warm water until fully dissolved",
        make_s3:"Transfer to main tank → top up to final volume",
        make_s4:"Run continuous filtration with ~10 µm cartridges",
        make_note_filter:"Continuous filtration stabilizes tone and film",

        process_h:"Part 2: Plating steps",
        proc_1:"Prep: alkaline clean → rinse → mild acid activate → rinse",
        proc_2:"Brass/copper: plate black nickel directly",
        proc_3:"Steel: use bright nickel undercoat first for uniform black",
        proc_4:"Run per table (T, pH, V, A/dm²) with agitation/filtration",
        proc_5:"Rinse 2–3 stages, then dry",
        ppe_note:"Wear gloves, safety glasses, and a respirator when mixing/plating",

        cond_h:"Operating window, mix & equipment",
        cond_params_h:"Key properties & applications",
        prop_beauty:"Aesthetics: modern deep-black appearance",
        prop_anti_reflect:"Low reflectance: matte finish for optics/medical",
        prop_durability:"Durability: moderate corrosion/wear improvement",
        prop_usecases:"Applications: jewelry, décor/appliances, automotive, industrial tools",

        equip_h:"Required equipment",
        equip_1:"Tank: PVC, PE, or PP lining",
        equip_2:"Filtration: continuous, ~10 µm",
        equip_3:"Temperature control: 30–50 °C",
        equip_4:"Agitation: work swing / gas / liquid as suitable",

        maint_h:"Additions & control",
        maint_be:"Track Baumé (~9–10) for concentration",
        maint_hull:"Use Hull cell to verify tone/uniformity and adjust per manual",

        footer_products:"Products", footer_contact:"Contact Us", footer_copy:"© 2025 Baume Chemical. All rights reserved."
      }
    };

    const els = {
      langBtns: () => document.querySelectorAll('.lang-switch .lang-btn'),
      translatables: () => document.querySelectorAll('[data-i18n-key]'),
      attrNodes: () => document.querySelectorAll('[data-i18n-attr]')
    };

    function applyI18nAttr(node, langMap){
      const spec = node.getAttribute('data-i18n-attr'); // e.g. "content:meta_desc"
      if(!spec) return;
      const [attr,key] = spec.split(':');
      if(attr && key && langMap[key]){
        node.setAttribute(attr, langMap[key]);
      }
    }

    function applyLang(lang){
      const sel = (lang === 'en') ? 'en' : 'th';
      document.documentElement.lang = sel;

      // buttons
      els.langBtns().forEach(btn => btn.setAttribute('aria-pressed', String(btn.dataset.lang === sel)));

      // texts
      els.translatables().forEach(node => {
        const key = node.getAttribute('data-i18n-key');
        if (key && I18N[sel] && typeof I18N[sel][key] === 'string') {
          node.textContent = I18N[sel][key];
        }
      });

      // meta/og via data-i18n-attr
      els.attrNodes().forEach(node => applyI18nAttr(node, I18N[sel]));

      // <title>
      const titleEl = document.querySelector('title[data-i18n-key="title"]');
      if (titleEl && I18N[sel].title) titleEl.textContent = I18N[sel].title;

      // persist + recalc header height
      try{ localStorage.setItem('lang', sel); }catch(e){}
      try{
        const h = document.getElementById('siteHeader').getBoundingClientRect().height|0;
        document.documentElement.style.setProperty('--header-h', h + 'px');
      }catch(e){}
    }

    (function initLang(){
      const saved = (typeof localStorage !== 'undefined' && localStorage.getItem('lang')) || 'th';
      applyLang(saved);
      els.langBtns().forEach(btn=> btn.addEventListener('click', ()=> applyLang(btn.dataset.lang)));
    })();
  </script>

  <!-- Header glass / mobile menu / highlight current / smart back -->
  <script>
    (function(){
      const header = document.getElementById('siteHeader');
      const toggle = header?.querySelector('.nav-toggle');
      const nav = document.getElementById('primary-nav');
      const scrim = document.querySelector('.menu-scrim');

      const setH = ()=>{ const h = header ? Math.round(header.getBoundingClientRect().height) : 64; document.documentElement.style.setProperty('--header-h', h + 'px'); };
      const onScroll = ()=> header && header.classList.toggle('is-scrolled', (window.scrollY||0) > 10);
      window.addEventListener('load', setH, {once:true});
      window.addEventListener('resize', setH, {passive:true});
      window.addEventListener('scroll', onScroll, {passive:true});
      setH(); onScroll();

      if(toggle && nav && scrim){
        let lockY = 0;
        function openMenu(v){
          header.classList.toggle('open', v);
          toggle.setAttribute('aria-expanded', String(v));
          nav.setAttribute('aria-hidden', String(!v));
          v ? scrim.removeAttribute('hidden') : scrim.setAttribute('hidden','');
          if(v){
            lockY = window.scrollY;
            document.body.classList.add('no-scroll');
            document.body.style.top = `-${lockY}px`;
            const first = nav.querySelector('a,button,[tabindex]:not([tabindex="-1"])');
            first && first.focus({preventScroll:true});
          }else{
            document.body.classList.remove('no-scroll');
            document.body.style.top = '';
            window.scrollTo(0, lockY);
            toggle?.focus({preventScroll:true});
          }
        }
        toggle.addEventListener('click', ()=> openMenu(!header.classList.contains('open')));
        scrim.addEventListener('click', ()=> openMenu(false));
        document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && header.classList.contains('open')) openMenu(false); });
        window.addEventListener('resize', ()=>{ if (window.innerWidth > 900 && header.classList.contains('open')) openMenu(false); }, {passive:true});
        nav.querySelectorAll('a').forEach(a => a.addEventListener('click', ()=> openMenu(false)));
      }

      // highlight current
      try{
        const here = location.pathname.replace(/\/+$/,'');
        const isProducts = here.startsWith('/products');
        const nav = document.getElementById('primary-nav');
        nav?.querySelectorAll('a').forEach(a=>{
          const path = new URL(a.getAttribute('href'), location.origin).pathname.replace(/\/+$/,'');
          if (isProducts && /\/products\/?$/.test(path)) a.setAttribute('aria-current','page');
          else if (here === path) a.setAttribute('aria-current','page');
          else a.removeAttribute('aria-current');
        });
      }catch(e){}

      // smart back
      (function(){
        const btn = document.querySelector('.back-chip');
        if(!btn) return;
        btn.addEventListener('click', function(e){
          try{
            const ref = document.referrer;
            const sameOrigin = ref && new URL(ref).origin === location.origin;
            if(sameOrigin){ e.preventDefault(); history.back(); }
          }catch(err){}
        });
      })();
    })();
  </script>

  <!-- Scroll-spy for TOC + heading anchors -->
  <script>
    // Clickable H2 anchors
    document.querySelectorAll('.section-block>h2.section').forEach(h=>{
      h.addEventListener('click', ()=>{
        const sec = h.closest('.section-block');
        if(sec && sec.id){ history.pushState(null,'','#'+sec.id); }
      });
    });

    (function(){
      const tocLinks = Array.from(document.querySelectorAll('#toc a[href^="#"]'));
      if (!tocLinks.length) return;
      const map = new Map();
      tocLinks.forEach(a=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if (el) map.set(id, {link:a, el});
      });

      const setActive = (id)=>{
        tocLinks.forEach(a=> a.classList.remove('is-active'));
        tocLinks.forEach(a=> a.setAttribute('aria-current','false'));
        const item = map.get(id);
        if (item){ item.link.classList.add('is-active'); item.link.setAttribute('aria-current','true'); }
      };

      const headerH = ()=> parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h'))||56;
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if (e.isIntersecting){
            const id = e.target.id;
            setActive(id);
            history.replaceState(null,'', `${location.pathname}${location.search}#${id}`);
          }
        });
      }, {rootMargin: `-${headerH()+24}px 0% -60% 0%`, threshold:.1});

      map.forEach(({el})=> obs.observe(el));
    })();
  </script>
  
</body>
</html>
